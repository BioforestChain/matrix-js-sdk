<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>webrtc/call.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccountDataClientAdapter.html">AccountDataClientAdapter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="AccountDataClientAdapter.html#getAccountData">getAccountData</a></li><li data-type='method' style='display: none;'><a href="AccountDataClientAdapter.html#getAccountDataFromServer">getAccountDataFromServer</a></li><li data-type='method' style='display: none;'><a href="AccountDataClientAdapter.html#setAccountData">setAccountData</a></li></ul></li><li><a href="Backend.html">Backend</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Backend.html#deleteOutgoingRoomKeyRequest">deleteOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="Backend.html#getAllOutgoingRoomKeyRequestsByState">getAllOutgoingRoomKeyRequestsByState</a></li><li data-type='method' style='display: none;'><a href="Backend.html#getOrAddOutgoingRoomKeyRequest">getOrAddOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="Backend.html#getOutgoingRoomKeyRequest">getOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="Backend.html#getOutgoingRoomKeyRequestByState">getOutgoingRoomKeyRequestByState</a></li><li data-type='method' style='display: none;'><a href="Backend.html#updateOutgoingRoomKeyRequest">updateOutgoingRoomKeyRequest</a></li></ul></li><li><a href="CrossSigningCallbacks.html">CrossSigningCallbacks</a></li><li><a href="crypto_DeviceList%250A%250AManages%2520the%2520list%2520of%2520other%2520users_%2520devicesmodule_-DeviceListUpdateSerialiser.html">DeviceListUpdateSerialiser</a><ul class='methods'><li data-type='method' style='display: none;'><a href="crypto_DeviceList%25250A%25250AManages%252520the%252520list%252520of%252520other%252520users_%252520devicesmodule_-DeviceListUpdateSerialiser.html#updateDevicesForUsers">updateDevicesForUsers</a></li></ul></li><li><a href="EncryptionSetupBuilder.html">EncryptionSetupBuilder</a><ul class='methods'><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#addCrossSigningKeys">addCrossSigningKeys</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#addKeySignature">addKeySignature</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#addSessionBackup">addSessionBackup</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#addSessionBackupPrivateKeyToCache">addSessionBackupPrivateKeyToCache</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#buildOperation">buildOperation</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#persist">persist</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#setAccountData">setAccountData</a></li></ul></li><li><a href="EncryptionSetupOperation.html">EncryptionSetupOperation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="EncryptionSetupOperation.html#apply">apply</a></li></ul></li><li><a href="IndexedDBStoreWorker.html">IndexedDBStoreWorker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="IndexedDBStoreWorker.html#onMessage">onMessage</a></li></ul></li><li><a href="InRoomChannel.html">InRoomChannel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="InRoomChannel.html#.canCreateRequest">canCreateRequest</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#.getEventType">getEventType</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#.getTransactionId">getTransactionId</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#.validateEvent">validateEvent</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#completeContent">completeContent</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#completedContentFromEvent">completedContentFromEvent</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#getTimestamp">getTimestamp</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#handleEvent">handleEvent</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#send">send</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#sendCompleted">sendCompleted</a></li></ul></li><li><a href="LocalIndexedDBStoreBackend.html">LocalIndexedDBStoreBackend</a><ul class='methods'><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_init">_init</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_loadAccountData">_loadAccountData</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_loadSyncData">_loadSyncData</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_persistAccountData">_persistAccountData</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_persistSyncData">_persistSyncData</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_persistUserPresenceEvents">_persistUserPresenceEvents</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#clearDatabase">clearDatabase</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#connect">connect</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#getOutOfBandMembers">getOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#getSavedSync">getSavedSync</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#getUserPresenceEvents">getUserPresenceEvents</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#isNewlyCreated">isNewlyCreated</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#setOutOfBandMembers">setOutOfBandMembers</a></li></ul></li><li><a href="module-auto-discovery.AutoDiscovery.html">AutoDiscovery</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-auto-discovery.AutoDiscovery.html#.findClientConfig">findClientConfig</a></li><li data-type='method' style='display: none;'><a href="module-auto-discovery.AutoDiscovery.html#.fromDiscoveryConfig">fromDiscoveryConfig</a></li><li data-type='method' style='display: none;'><a href="module-auto-discovery.AutoDiscovery.html#.getRawClientConfig">getRawClientConfig</a></li></ul></li><li><a href="module-auto-discovery.AutoDiscovery.FAIL_ERROR.html">FAIL_ERROR</a></li><li><a href="module-auto-discovery.AutoDiscovery.FAIL_PROMPT.html">FAIL_PROMPT</a></li><li><a href="module-auto-discovery.AutoDiscovery.PROMPT.html">PROMPT</a></li><li><a href="module-auto-discovery.AutoDiscovery.SUCCESS.html">SUCCESS</a></li><li><a href="module-auto-discovery-DiscoveredClientConfig.html">DiscoveredClientConfig</a></li><li><a href="module-base-apis.MatrixBaseApis.html">MatrixBaseApis</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#acceptGroupInvite">acceptGroupInvite</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addPushRule">addPushRule</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addRoomToGroup">addRoomToGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addRoomToGroupSummary">addRoomToGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addThreePid">addThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addThreePidOnly">addThreePidOnly</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addUserToGroupSummary">addUserToGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#bindThreePid">bindThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#bulkLookupThreePids">bulkLookupThreePids</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#cancelUpload">cancelUpload</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#claimOneTimeKeys">claimOneTimeKeys</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#createAlias">createAlias</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#createGroup">createGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#createRoom">createRoom</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deactivateAccount">deactivateAccount</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deleteAlias">deleteAlias</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deleteDevice">deleteDevice</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deleteMultipleDevices">deleteMultipleDevices</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deletePushRule">deletePushRule</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deleteThreePid">deleteThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#downloadKeysForUsers">downloadKeysForUsers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#fetchRelations">fetchRelations</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#fetchRoomEvent">fetchRoomEvent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getAccessToken">getAccessToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getCasLoginUrl">getCasLoginUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getCurrentUploads">getCurrentUploads</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getDevices">getDevices</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getFallbackAuthUrl">getFallbackAuthUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupInvitedUsers">getGroupInvitedUsers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupProfile">getGroupProfile</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupRooms">getGroupRooms</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupSummary">getGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupUsers">getGroupUsers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getHomeserverUrl">getHomeserverUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getIdentityAccount">getIdentityAccount</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getIdentityHashDetails">getIdentityHashDetails</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getIdentityServerUrl">getIdentityServerUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getJoinedGroups">getJoinedGroups</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getJoinedRoomMembers">getJoinedRoomMembers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getJoinedRooms">getJoinedRooms</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getKeyChanges">getKeyChanges</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getProfileInfo">getProfileInfo</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getPublicisedGroups">getPublicisedGroups</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getPushers">getPushers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getPushRules">getPushRules</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getRoomDirectoryVisibility">getRoomDirectoryVisibility</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getRoomIdForAlias">getRoomIdForAlias</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getSsoLoginUrl">getSsoLoginUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getStateEvent">getStateEvent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getThirdpartyLocation">getThirdpartyLocation</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getThirdpartyProtocols">getThirdpartyProtocols</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getThirdpartyUser">getThirdpartyUser</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getThreePids">getThreePids</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#identityHashedLookup">identityHashedLookup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#inviteUserToGroup">inviteUserToGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#isLoggedIn">isLoggedIn</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#isUsernameAvailable">isUsernameAvailable</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#joinGroup">joinGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#leaveGroup">leaveGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#login">login</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#loginFlows">loginFlows</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#loginWithPassword">loginWithPassword</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#loginWithSAML2">loginWithSAML2</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#loginWithToken">loginWithToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#logout">logout</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#lookupThreePid">lookupThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#makeTxnId">makeTxnId</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#members">members</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#publicRooms">publicRooms</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#register">register</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#registerGuest">registerGuest</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#registerRequest">registerRequest</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#registerWithIdentityServer">registerWithIdentityServer</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#removeRoomFromGroup">removeRoomFromGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#removeRoomFromGroupSummary">removeRoomFromGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#removeUserFromGroup">removeUserFromGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#removeUserFromGroupSummary">removeUserFromGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#reportEvent">reportEvent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#requestEmailToken">requestEmailToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#requestMsisdnToken">requestMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#resolveRoomAlias">resolveRoomAlias</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#roomInitialSync">roomInitialSync</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#roomState">roomState</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#search">search</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#searchUserDirectory">searchUserDirectory</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#sendStateEvent">sendStateEvent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#sendToDevice">sendToDevice</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setDeviceDetails">setDeviceDetails</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setGroupJoinPolicy">setGroupJoinPolicy</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setGroupProfile">setGroupProfile</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setGroupPublicity">setGroupPublicity</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setIdentityServerUrl">setIdentityServerUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setPassword">setPassword</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setPusher">setPusher</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setPushRuleActions">setPushRuleActions</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setPushRuleEnabled">setPushRuleEnabled</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setRoomDirectoryVisibility">setRoomDirectoryVisibility</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setRoomDirectoryVisibilityAppService">setRoomDirectoryVisibilityAppService</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setRoomReadMarkersHttpRequest">setRoomReadMarkersHttpRequest</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#submitMsisdnToken">submitMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#submitMsisdnTokenOtherUrl">submitMsisdnTokenOtherUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#unbindThreePid">unbindThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#unstableGetLocalAliases">unstableGetLocalAliases</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#updateGroupRoomVisibility">updateGroupRoomVisibility</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#upgradeRoom">upgradeRoom</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#uploadContent">uploadContent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#uploadKeysRequest">uploadKeysRequest</a></li></ul></li><li><a href="module-client.MatrixClient.html">MatrixClient</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_createMessagesRequest">_createMessagesRequest</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_requestTokenFromEndpoint">_requestTokenFromEndpoint</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_sendCompleteEvent">_sendCompleteEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_storeClientOptions">_storeClientOptions</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_unstable_setStatusMessage">_unstable_setStatusMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#addListener">addListener</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#backPaginateRoomEventsSearch">backPaginateRoomEventsSearch</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#ban">ban</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#beginKeyVerification">beginKeyVerification</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#cancelAndResendEventRoomKeyRequest">cancelAndResendEventRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#cancelPendingEvent">cancelPendingEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#checkKeyBackup">checkKeyBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#clearStores">clearStores</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#createFilter">createFilter</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#createKeyBackupVersion">createKeyBackupVersion</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#deactivateSynapseUser">deactivateSynapseUser</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#deleteRoomTag">deleteRoomTag</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#disableKeyBackup">disableKeyBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerAcceptIdentityAccessToken">doesServerAcceptIdentityAccessToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerForceEncryptionForPreset">doesServerForceEncryptionForPreset</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerRequireIdServerParam">doesServerRequireIdServerParam</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerSupportLazyLoading">doesServerSupportLazyLoading</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerSupportSeparateAddAndBind">doesServerSupportSeparateAddAndBind</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerSupportUnstableFeature">doesServerSupportUnstableFeature</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#downloadKeys">downloadKeys</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#emit">emit</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#enableKeyBackup">enableKeyBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#exportRoomKeys">exportRoomKeys</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#findVerificationRequestDMInProgress">findVerificationRequestDMInProgress</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#flagAllGroupSessionsForBackup">flagAllGroupSessionsForBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#forceDiscardSession">forceDiscardSession</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#forget">forget</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#generateClientSecret">generateClientSecret</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getAccountData">getAccountData</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getAccountDataFromServer">getAccountDataFromServer</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getCanResetTimelineCallback">getCanResetTimelineCallback</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getCapabilities">getCapabilities</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getCrossSigningCacheCallbacks">getCrossSigningCacheCallbacks</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getDeviceCurve25519Key">getDeviceCurve25519Key</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getDeviceEd25519Key">getDeviceEd25519Key</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getDeviceId">getDeviceId</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getDomain">getDomain</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getEventMapper">getEventMapper</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getEventSenderDeviceInfo">getEventSenderDeviceInfo</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getEventTimeline">getEventTimeline</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getGlobalBlacklistUnverifiedDevices">getGlobalBlacklistUnverifiedDevices</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getGlobalErrorOnUnknownDevices">getGlobalErrorOnUnknownDevices</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getGroup">getGroup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getGroups">getGroups</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getIgnoredUsers">getIgnoredUsers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getKeyBackupEnabled">getKeyBackupEnabled</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getKeyBackupVersion">getKeyBackupVersion</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getMediaConfig">getMediaConfig</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getNotifTimelineSet">getNotifTimelineSet</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getOpenIdToken">getOpenIdToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getOrCreateFilter">getOrCreateFilter</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getPushActionsForEvent">getPushActionsForEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRoom">getRoom</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRoomPushRule">getRoomPushRule</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRooms">getRooms</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRoomTags">getRoomTags</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRoomUpgradeHistory">getRoomUpgradeHistory</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getScheduler">getScheduler</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getStoredDevice">getStoredDevice</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getStoredDevicesForUser">getStoredDevicesForUser</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getSyncState">getSyncState</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getSyncStateData">getSyncStateData</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getTurnServers">getTurnServers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUrlPreview">getUrlPreview</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUser">getUser</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUserId">getUserId</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUserIdLocalpart">getUserIdLocalpart</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUsers">getUsers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getVerificationRequestsToDeviceInProgress">getVerificationRequestsToDeviceInProgress</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getVersions">getVersions</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getVisibleRooms">getVisibleRooms</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#hasLazyLoadMembersEnabled">hasLazyLoadMembersEnabled</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#importRoomKeys">importRoomKeys</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#initCrypto">initCrypto</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#invite">invite</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#inviteByEmail">inviteByEmail</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#inviteByThreePid">inviteByThreePid</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isCryptoEnabled">isCryptoEnabled</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isEventSenderVerified">isEventSenderVerified</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isFallbackICEServerAllowed">isFallbackICEServerAllowed</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isGuest">isGuest</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isInitialSyncComplete">isInitialSyncComplete</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isKeyBackupKeyStored">isKeyBackupKeyStored</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isKeyBackupTrusted">isKeyBackupTrusted</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isRoomEncrypted">isRoomEncrypted</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isSynapseAdministrator">isSynapseAdministrator</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isUserIgnored">isUserIgnored</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isVersionSupported">isVersionSupported</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#joinRoom">joinRoom</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#keyBackupKeyFromPassword">keyBackupKeyFromPassword</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#keyBackupKeyFromRecoveryKey">keyBackupKeyFromRecoveryKey</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#kick">kick</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#leave">leave</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#leaveRoomChain">leaveRoomChain</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#mxcUrlToHttp">mxcUrlToHttp</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#on">on</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#once">once</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#paginateEventTimeline">paginateEventTimeline</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#peekInRoom">peekInRoom</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#prepareKeyBackupVersion">prepareKeyBackupVersion</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#redactEvent">redactEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#relations">relations</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#removeAllListeners">removeAllListeners</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#removeListener">removeListener</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestAdd3pidEmailToken">requestAdd3pidEmailToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestAdd3pidMsisdnToken">requestAdd3pidMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestPasswordEmailToken">requestPasswordEmailToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestPasswordMsisdnToken">requestPasswordMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestRegisterEmailToken">requestRegisterEmailToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestRegisterMsisdnToken">requestRegisterMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestVerification">requestVerification</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestVerificationDM">requestVerificationDM</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#resendEvent">resendEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#resetNotifTimelineSet">resetNotifTimelineSet</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#restoreKeyBackupWithCache">restoreKeyBackupWithCache</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#restoreKeyBackupWithPassword">restoreKeyBackupWithPassword</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#restoreKeyBackupWithRecoveryKey">restoreKeyBackupWithRecoveryKey</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#restoreKeyBackupWithSecretStorage">restoreKeyBackupWithSecretStorage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#retryImmediately">retryImmediately</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#scheduleAllGroupSessionsForBackup">scheduleAllGroupSessionsForBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#scrollback">scrollback</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#searchMessageText">searchMessageText</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#searchRoomEvents">searchRoomEvents</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendEmoteMessage">sendEmoteMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendEvent">sendEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendHtmlEmote">sendHtmlEmote</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendHtmlMessage">sendHtmlMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendHtmlNotice">sendHtmlNotice</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendImageMessage">sendImageMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendKeyBackup">sendKeyBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendMessage">sendMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendNotice">sendNotice</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendReadReceipt">sendReadReceipt</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendReceipt">sendReceipt</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendStickerMessage">sendStickerMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendTextMessage">sendTextMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendTyping">sendTyping</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setAccountData">setAccountData</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setAvatarUrl">setAvatarUrl</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setCanResetTimelineCallback">setCanResetTimelineCallback</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDeviceBlocked">setDeviceBlocked</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDeviceKnown">setDeviceKnown</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDeviceVerified">setDeviceVerified</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDisplayName">setDisplayName</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setFallbackICEServerAllowed">setFallbackICEServerAllowed</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setForceTURN">setForceTURN</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setGlobalBlacklistUnverifiedDevices">setGlobalBlacklistUnverifiedDevices</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setGlobalErrorOnUnknownDevices">setGlobalErrorOnUnknownDevices</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setGuest">setGuest</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setGuestAccess">setGuestAccess</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setIgnoredUsers">setIgnoredUsers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setMaxListeners">setMaxListeners</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setNotifTimelineSet">setNotifTimelineSet</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setPowerLevel">setPowerLevel</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setPresence">setPresence</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setProfileInfo">setProfileInfo</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomAccountData">setRoomAccountData</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomEncryption">setRoomEncryption</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomMutePushRule">setRoomMutePushRule</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomName">setRoomName</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomReadMarkers">setRoomReadMarkers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomTag">setRoomTag</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomTopic">setRoomTopic</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#startClient">startClient</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#stopClient">stopClient</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#stopPeeking">stopPeeking</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#supportsVoip">supportsVoip</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#syncLeftRooms">syncLeftRooms</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#turnServer">turnServer</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#unban">unban</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#uploadKeys">uploadKeys</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#whoisSynapseUser">whoisSynapseUser</a></li></ul></li><li><a href="module-crypto.html">crypto</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto.html#.verificationMethods">verificationMethods</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto.html#.fixBackupKey">fixBackupKey</a></li></ul></li><li><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html">DecryptionAlgorithm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#decryptEvent">decryptEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#hasKeysForKeyRequest">hasKeysForKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#importRoomKey">importRoomKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#onRoomKeyEvent">onRoomKeyEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#retryDecryptionFromSender">retryDecryptionFromSender</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#shareKeysWithDevice">shareKeysWithDevice</a></li></ul></li><li><a href="module-crypto_algorithms_base.DecryptionError.html">DecryptionError</a></li><li><a href="module-crypto_algorithms_base.EncryptionAlgorithm.html">EncryptionAlgorithm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.EncryptionAlgorithm.html#.encryptMessage">encryptMessage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.EncryptionAlgorithm.html#onRoomMembership">onRoomMembership</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.EncryptionAlgorithm.html#prepareToEncrypt">prepareToEncrypt</a></li></ul></li><li><a href="module-crypto_algorithms_base.UnknownDeviceError.html">UnknownDeviceError</a></li><li><a href="module-crypto_algorithms_megolm-MegolmDecryption.html">MegolmDecryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#decryptEvent">decryptEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#hasKeysForKeyRequest">hasKeysForKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#importRoomKey">importRoomKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#onRoomKeyEvent">onRoomKeyEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#onRoomKeyWithheldEvent">onRoomKeyWithheldEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#shareKeysWithDevice">shareKeysWithDevice</a></li></ul></li><li><a href="module-crypto_algorithms_megolm-MegolmEncryption.html">MegolmEncryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_checkForUnknownDevices">_checkForUnknownDevices</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_getDevicesInRoom">_getDevicesInRoom</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_notifyBlockedDevices">_notifyBlockedDevices</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_notifyFailedOlmDevices">_notifyFailedOlmDevices</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_removeUnknownDevices">_removeUnknownDevices</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#encryptMessage">encryptMessage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#forceDiscardSession">forceDiscardSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#prepareToEncrypt">prepareToEncrypt</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#reshareKeyWithDevice">reshareKeyWithDevice</a></li></ul></li><li><a href="module-crypto_algorithms_olm-OlmDecryption.html">OlmDecryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_olm-OlmDecryption.html#_decryptMessage">_decryptMessage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_olm-OlmDecryption.html#decryptEvent">decryptEvent</a></li></ul></li><li><a href="module-crypto_algorithms_olm-OlmEncryption.html">OlmEncryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_olm-OlmEncryption.html#encryptMessage">encryptMessage</a></li></ul></li><li><a href="module-crypto_CrossSigning.CrossSigningInfo.html">CrossSigningInfo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#.getFromSecretStorage">getFromSecretStorage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#.storeInSecretStorage">storeInSecretStorage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#checkDeviceTrust">checkDeviceTrust</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#checkUserTrust">checkUserTrust</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#clearKeys">clearKeys</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#getCacheCallbacks">getCacheCallbacks</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#getCrossSigningKey">getCrossSigningKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#getCrossSigningKeysFromCache">getCrossSigningKeysFromCache</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#getId">getId</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#isStoredInKeyCache">isStoredInKeyCache</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#isStoredInSecretStorage">isStoredInSecretStorage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#resetKeys">resetKeys</a></li></ul></li><li><a href="module-crypto_CrossSigning.DeviceTrustLevel.html">DeviceTrustLevel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.DeviceTrustLevel.html#isCrossSigningVerified">isCrossSigningVerified</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.DeviceTrustLevel.html#isLocallyVerified">isLocallyVerified</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.DeviceTrustLevel.html#isTofu">isTofu</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.DeviceTrustLevel.html#isVerified">isVerified</a></li></ul></li><li><a href="module-crypto_CrossSigning.UserTrustLevel.html">UserTrustLevel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.UserTrustLevel.html#isCrossSigningVerified">isCrossSigningVerified</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.UserTrustLevel.html#isTofu">isTofu</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.UserTrustLevel.html#isVerified">isVerified</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.UserTrustLevel.html#wasCrossSigningVerified">wasCrossSigningVerified</a></li></ul></li><li><a href="module-crypto_deviceinfo.html">crypto/deviceinfo</a></li><li><a href="module-crypto_DeviceList.html">crypto/DeviceList

Manages the list of other users' devicesmodule:.DeviceList</a></li><li><a href="module-crypto_OlmDevice.html">crypto/OlmDevice</a></li><li><a href="module-crypto_RoomList.html">crypto/RoomList

Manages the list of encrypted roomsmodule:.RoomList</a></li><li><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html">IndexedDBCryptoStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#addEndToEndInboundGroupSession">addEndToEndInboundGroupSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#countEndToEndSessions">countEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#countSessionsNeedingBackup">countSessionsNeedingBackup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#deleteAllData">deleteAllData</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#deleteOutgoingRoomKeyRequest">deleteOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#doTxn">doTxn</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getAllEndToEndInboundGroupSessions">getAllEndToEndInboundGroupSessions</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getAllEndToEndSessions">getAllEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getAllOutgoingRoomKeyRequestsByState">getAllOutgoingRoomKeyRequestsByState</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getCrossSigningKeys">getCrossSigningKeys</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndDeviceData">getEndToEndDeviceData</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndInboundGroupSession">getEndToEndInboundGroupSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndRooms">getEndToEndRooms</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndSession">getEndToEndSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndSessions">getEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getOrAddOutgoingRoomKeyRequest">getOrAddOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getOutgoingRoomKeyRequest">getOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getOutgoingRoomKeyRequestByState">getOutgoingRoomKeyRequestByState</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getOutgoingRoomKeyRequestsByTarget">getOutgoingRoomKeyRequestsByTarget</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getSecretStorePrivateKey">getSecretStorePrivateKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getSessionsNeedingBackup">getSessionsNeedingBackup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#markSessionsNeedingBackup">markSessionsNeedingBackup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeAccount">storeAccount</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeCrossSigningKeys">storeCrossSigningKeys</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeEndToEndDeviceData">storeEndToEndDeviceData</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeEndToEndInboundGroupSession">storeEndToEndInboundGroupSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeEndToEndRoom">storeEndToEndRoom</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeEndToEndSession">storeEndToEndSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeSecretStorePrivateKey">storeSecretStorePrivateKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#unmarkSessionsNeedingBackup">unmarkSessionsNeedingBackup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#updateOutgoingRoomKeyRequest">updateOutgoingRoomKeyRequest</a></li></ul></li><li><a href="module-crypto_store_localStorage-crypto-store.LocalStorageCryptoStore.html">LocalStorageCryptoStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_store_localStorage-crypto-store.LocalStorageCryptoStore.html#deleteAllData">deleteAllData</a></li></ul></li><li><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html">MemoryCryptoStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#_getOutgoingRoomKeyRequest">_getOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#deleteAllData">deleteAllData</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#deleteOutgoingRoomKeyRequest">deleteOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#getAllOutgoingRoomKeyRequestsByState">getAllOutgoingRoomKeyRequestsByState</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#getOrAddOutgoingRoomKeyRequest">getOrAddOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#getOutgoingRoomKeyRequest">getOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#getOutgoingRoomKeyRequestByState">getOutgoingRoomKeyRequestByState</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#updateOutgoingRoomKeyRequest">updateOutgoingRoomKeyRequest</a></li></ul></li><li><a href="module-crypto_verification_Base.VerificationBase.html">VerificationBase</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_verification_Base.VerificationBase.html#verify">verify</a></li></ul></li><li><a href="module-crypto_verification_IllegalMethod-crypto_verification_IllegalMethod_IllegalMethod.html">crypto/verification/IllegalMethod/IllegalMethod</a></li><li><a href="module-crypto_verification_QRCode-crypto_verification_QRCode_ReciprocateQRCode.html">crypto/verification/QRCode/ReciprocateQRCode</a></li><li><a href="module-crypto_verification_SAS.html">crypto/verification/SAS</a></li><li><a href="module-crypto-IncomingRoomKeyRequest.html">IncomingRoomKeyRequest</a></li><li><a href="module-crypto-IncomingRoomKeyRequestCancellation.html">IncomingRoomKeyRequestCancellation</a></li><li><a href="module-filter.Filter.html">Filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#.fromJson">fromJson</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#filterRoomTimeline">filterRoomTimeline</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#getDefinition">getDefinition</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#getFilterId">getFilterId</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#getRoomTimelineFilterComponent">getRoomTimelineFilterComponent</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#setDefinition">setDefinition</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#setIncludeLeaveRooms">setIncludeLeaveRooms</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#setTimelineLimit">setTimelineLimit</a></li></ul></li><li><a href="module-filter-component.FilterComponent.html">FilterComponent</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-filter-component.FilterComponent.html#_checkFields">_checkFields</a></li><li data-type='method' style='display: none;'><a href="module-filter-component.FilterComponent.html#check">check</a></li><li data-type='method' style='display: none;'><a href="module-filter-component.FilterComponent.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="module-filter-component.FilterComponent.html#limit">limit</a></li></ul></li><li><a href="module-http-api.ConnectionError.html">ConnectionError</a></li><li><a href="module-http-api.MatrixError.html">MatrixError</a></li><li><a href="module-http-api.MatrixHttpApi.html">MatrixHttpApi</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#authedRequest">authedRequest</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#getContentUri">getContentUri</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#getUrl">getUrl</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#request">request</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#requestOtherUrl">requestOtherUrl</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#setIdBaseUrl">setIdBaseUrl</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#uploadContent">uploadContent</a></li></ul></li><li><a href="module-interactive-auth.html">interactive-auth</a></li><li><a href="module-models_event.MatrixEvent.html">MatrixEvent</a></li><li><a href="module-models_event-context.EventContext.html">EventContext</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#addEvents">addEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#getEvent">getEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#getOurEventIndex">getOurEventIndex</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#getPaginateToken">getPaginateToken</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#getTimeline">getTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#setPaginateToken">setPaginateToken</a></li></ul></li><li><a href="module-models_event-timeline.EventTimeline.html">EventTimeline</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#.BACKWARDS">BACKWARDS</a></li><li data-type='member' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#.FORWARDS">FORWARDS</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#.setEventMetadata">setEventMetadata</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#addEvent">addEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#fork">fork</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#forkLive">forkLive</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getBaseIndex">getBaseIndex</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getEvents">getEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getNeighbouringTimeline">getNeighbouringTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getPaginationToken">getPaginationToken</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getRoomId">getRoomId</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getState">getState</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getTimelineSet">getTimelineSet</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#initialiseState">initialiseState</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#removeEvent">removeEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#setNeighbouringTimeline">setNeighbouringTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#setPaginationToken">setPaginationToken</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#toString">toString</a></li></ul></li><li><a href="module-models_event-timeline-set.EventTimelineSet.html">EventTimelineSet</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#addEventsToTimeline">addEventsToTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#addEventToTimeline">addEventToTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#addLiveEvent">addLiveEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#addTimeline">addTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#aggregateRelations">aggregateRelations</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#compareEventOrdering">compareEventOrdering</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#eventIdToTimeline">eventIdToTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#findEventById">findEventById</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getLiveTimeline">getLiveTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getPendingEvents">getPendingEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getRelationsForEvent">getRelationsForEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getTimelineForEvent">getTimelineForEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getTimelines">getTimelines</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#handleRemoteEcho">handleRemoteEcho</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#removeEvent">removeEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#replaceEventId">replaceEventId</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#resetLiveTimeline">resetLiveTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#setFilter">setFilter</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#setRelationsTarget">setRelationsTarget</a></li></ul></li><li><a href="module-models_room.html">models/room</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_room.html#~calculateRoomName">calculateRoomName</a></li></ul></li><li><a href="module-models_room-member.html">models/room-member</a></li><li><a href="module-models_room-state.RoomState.html">RoomState</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_getOrCreateMember">_getOrCreateMember</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_hasSufficientPowerLevelFor">_hasSufficientPowerLevelFor</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_maySendEventOfType">_maySendEventOfType</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_setOutOfBandMember">_setOutOfBandMember</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_updateModifiedTime">_updateModifiedTime</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#clearOutOfBandMembers">clearOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getInvitedMemberCount">getInvitedMemberCount</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getInviteForThreePidToken">getInviteForThreePidToken</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getJoinedMemberCount">getJoinedMemberCount</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getLastModifiedTime">getLastModifiedTime</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getMember">getMember</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getMembers">getMembers</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getMembersExcept">getMembersExcept</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getSentinelMember">getSentinelMember</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getStateEvents">getStateEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getUserIdsWithDisplayName">getUserIdsWithDisplayName</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#markOutOfBandMembersFailed">markOutOfBandMembersFailed</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#markOutOfBandMembersStarted">markOutOfBandMembersStarted</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#mayClientSendStateEvent">mayClientSendStateEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#maySendEvent">maySendEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#maySendMessage">maySendMessage</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#maySendRedactionForEvent">maySendRedactionForEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#maySendStateEvent">maySendStateEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#mayTriggerNotifOfType">mayTriggerNotifOfType</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#needsOutOfBandMembers">needsOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setInvitedMemberCount">setInvitedMemberCount</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setJoinedMemberCount">setJoinedMemberCount</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setOutOfBandMembers">setOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setStateEvents">setStateEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setTypingEvent">setTypingEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setUnknownStateEvents">setUnknownStateEvents</a></li></ul></li><li><a href="module-models_room-summary.RoomSummary.html">RoomSummary</a></li><li><a href="module-models_search-result.SearchResult.html">SearchResult</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_search-result.SearchResult.html#.fromJson">fromJson</a></li></ul></li><li><a href="module-models_user.User.html">User</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_user.User.html#_unstable_updateStatusMessage">_unstable_updateStatusMessage</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#_updateModifiedTime">_updateModifiedTime</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#getLastActiveTs">getLastActiveTs</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#getLastModifiedTime">getLastModifiedTime</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#setAvatarUrl">setAvatarUrl</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#setDisplayName">setDisplayName</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#setPresenceEvent">setPresenceEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#setRawDisplayName">setRawDisplayName</a></li></ul></li><li><a href="module-pushprocessor.PushProcessor.html">PushProcessor</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-pushprocessor.PushProcessor.html#.actionListToActionsObject">actionListToActionsObject</a></li><li data-type='method' style='display: none;'><a href="module-pushprocessor.PushProcessor.html#.rewriteDefaultRules">rewriteDefaultRules</a></li><li data-type='method' style='display: none;'><a href="module-pushprocessor.PushProcessor.html#actionsForEvent">actionsForEvent</a></li><li data-type='method' style='display: none;'><a href="module-pushprocessor.PushProcessor.html#getPushRuleById">getPushRuleById</a></li></ul></li><li><a href="module-scheduler.MatrixScheduler.html">MatrixScheduler</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#.QUEUE_MESSAGES">QUEUE_MESSAGES</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#.RETRY_BACKOFF_RATELIMIT">RETRY_BACKOFF_RATELIMIT</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#getQueueForEvent">getQueueForEvent</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#queueEvent">queueEvent</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#removeEventFromQueue">removeEventFromQueue</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#setProcessFunction">setProcessFunction</a></li></ul></li><li><a href="module-store_indexeddb.IndexedDBStore.html">IndexedDBStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_indexeddb.IndexedDBStore.html#save">save</a></li><li data-type='method' style='display: none;'><a href="module-store_indexeddb.IndexedDBStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-store_indexeddb.IndexedDBStore.html#wantsSave">wantsSave</a></li></ul></li><li><a href="module-store_memory.MemoryStore.html">MemoryStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#_onRoomMember">_onRoomMember</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#deleteAllData">deleteAllData</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getAccountData">getAccountData</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getFilterIdByName">getFilterIdByName</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getGroup">getGroup</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getGroups">getGroups</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getOutOfBandMembers">getOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getRoom">getRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getRooms">getRooms</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getRoomSummaries">getRoomSummaries</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getSavedSync">getSavedSync</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getSavedSyncToken">getSavedSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getSyncToken">getSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getUser">getUser</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getUsers">getUsers</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#isNewlyCreated">isNewlyCreated</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#removeRoom">removeRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#save">save</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#scrollback">scrollback</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#setFilterIdByName">setFilterIdByName</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#setOutOfBandMembers">setOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#setSyncData">setSyncData</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#setSyncToken">setSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeAccountDataEvents">storeAccountDataEvents</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeEvents">storeEvents</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeFilter">storeFilter</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeGroup">storeGroup</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeRoom">storeRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeUser">storeUser</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#wantsSave">wantsSave</a></li></ul></li><li><a href="module-store_session_webstorage.WebStorageSessionStore.html">WebStorageSessionStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getAllEndToEndDevices">getAllEndToEndDevices</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getAllEndToEndInboundGroupSessionKeys">getAllEndToEndInboundGroupSessionKeys</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getAllEndToEndRooms">getAllEndToEndRooms</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getAllEndToEndSessions">getAllEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getEndToEndAccount">getEndToEndAccount</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getEndToEndDeviceSyncToken">getEndToEndDeviceSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getEndToEndSessions">getEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#removeAllEndToEndSessions">removeAllEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#removeEndToEndAccount">removeEndToEndAccount</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#removeEndToEndDeviceData">removeEndToEndDeviceData</a></li></ul></li><li><a href="module-store_stub.StubStore.html">StubStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#deleteAllData">deleteAllData</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getAccountData">getAccountData</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getFilterIdByName">getFilterIdByName</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getGroup">getGroup</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getGroups">getGroups</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getRoom">getRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getRooms">getRooms</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getRoomSummaries">getRoomSummaries</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getSavedSync">getSavedSync</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getSavedSyncToken">getSavedSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getSyncToken">getSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getUser">getUser</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getUsers">getUsers</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#isNewlyCreated">isNewlyCreated</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#removeRoom">removeRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#save">save</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#scrollback">scrollback</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#setFilterIdByName">setFilterIdByName</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#setSyncData">setSyncData</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#setSyncToken">setSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeAccountDataEvents">storeAccountDataEvents</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeEvents">storeEvents</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeFilter">storeFilter</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeGroup">storeGroup</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeRoom">storeRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeUser">storeUser</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#wantsSave">wantsSave</a></li></ul></li><li><a href="module-sync-accumulator.SyncAccumulator.html">SyncAccumulator</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-sync-accumulator.SyncAccumulator.html#_accumulateGroups">_accumulateGroups</a></li><li data-type='method' style='display: none;'><a href="module-sync-accumulator.SyncAccumulator.html#_accumulateRooms">_accumulateRooms</a></li><li data-type='method' style='display: none;'><a href="module-sync-accumulator.SyncAccumulator.html#getJSON">getJSON</a></li></ul></li><li><a href="module-timeline-window.TimelineWindow.html">TimelineWindow</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#canPaginate">canPaginate</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#extend">extend</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#getEvents">getEvents</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#getTimelineIndex">getTimelineIndex</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#load">load</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#paginate">paginate</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#unpaginate">unpaginate</a></li></ul></li><li><a href="module-webrtc_call.MatrixCall.html">MatrixCall</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#.CALL_TIMEOUT_MS">CALL_TIMEOUT_MS</a></li><li data-type='member' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#.ERR_LOCAL_OFFER_FAILED">ERR_LOCAL_OFFER_FAILED</a></li><li data-type='member' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#.ERR_NO_USER_MEDIA">ERR_NO_USER_MEDIA</a></li><li data-type='member' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#.FALLBACK_ICE_SERVER">FALLBACK_ICE_SERVER</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_gotRemoteIceCandidate">_gotRemoteIceCandidate</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_initWithHangup">_initWithHangup</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_initWithInvite">_initWithInvite</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_onAnsweredElsewhere">_onAnsweredElsewhere</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_onHangupReceived">_onHangupReceived</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_receivedAnswer">_receivedAnswer</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_replacedBy">_replacedBy</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#answer">answer</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#assignElement">assignElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#getLocalVideoElement">getLocalVideoElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#getRemoteAudioElement">getRemoteAudioElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#getRemoteVideoElement">getRemoteVideoElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#hangup">hangup</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#isLocalVideoMuted">isLocalVideoMuted</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#isMicrophoneMuted">isMicrophoneMuted</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#pauseElement">pauseElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#placeScreenSharingCall">placeScreenSharingCall</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#placeVideoCall">placeVideoCall</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#placeVoiceCall">placeVoiceCall</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#playElement">playElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setLocalVideoElement">setLocalVideoElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setLocalVideoMuted">setLocalVideoMuted</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setMicrophoneMuted">setMicrophoneMuted</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setRemoteAudioElement">setRemoteAudioElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setRemoteVideoElement">setRemoteVideoElement</a></li></ul></li><li><a href="Relations.html">Relations</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Relations.html#_removeEvent">_removeEvent</a></li><li data-type='method' style='display: none;'><a href="Relations.html#addEvent">addEvent</a></li><li data-type='method' style='display: none;'><a href="Relations.html#getAnnotationsBySender">getAnnotationsBySender</a></li><li data-type='method' style='display: none;'><a href="Relations.html#getLastReplacement">getLastReplacement</a></li><li data-type='method' style='display: none;'><a href="Relations.html#getRelations">getRelations</a></li><li data-type='method' style='display: none;'><a href="Relations.html#getSortedAnnotationsByKey">getSortedAnnotationsByKey</a></li></ul></li><li><a href="RemoteIndexedDBStoreBackend.html">RemoteIndexedDBStoreBackend</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#clearDatabase">clearDatabase</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#connect">connect</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#getOutOfBandMembers">getOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#getSavedSync">getSavedSync</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#getUserPresenceEvents">getUserPresenceEvents</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#isNewlyCreated">isNewlyCreated</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#setOutOfBandMembers">setOutOfBandMembers</a></li></ul></li><li><a href="SSSSCryptoCallbacks.html">SSSSCryptoCallbacks</a></li><li><a href="SyncApi.html">SyncApi</a><ul class='methods'><li data-type='method' style='display: none;'><a href="SyncApi.html#_getGuestFilter">_getGuestFilter</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_mapSyncEventsFormat">_mapSyncEventsFormat</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_mapSyncResponseToRoomArray">_mapSyncResponseToRoomArray</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_onOnline">_onOnline</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_peekPoll">_peekPoll</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_pokeKeepAlive">_pokeKeepAlive</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_processEventsForNotifs">_processEventsForNotifs</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_processGroupSyncEntry">_processGroupSyncEntry</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_processRoomEvents">_processRoomEvents</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_processSyncResponse">_processSyncResponse</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_resolveInvites">_resolveInvites</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_startKeepAlives">_startKeepAlives</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_sync">_sync</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_syncFromCache">_syncFromCache</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_updateSyncState">_updateSyncState</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_wasLazyLoadingToggled">_wasLazyLoadingToggled</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#createGroup">createGroup</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#createRoom">createRoom</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#getSyncState">getSyncState</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#getSyncStateData">getSyncStateData</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#peek">peek</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#retryImmediately">retryImmediately</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#stop">stop</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#stopPeeking">stopPeeking</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#sync">sync</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#syncLeftRooms">syncLeftRooms</a></li></ul></li><li><a href="ToDeviceChannel.html">ToDeviceChannel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#.canCreateRequest">canCreateRequest</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#.getTransactionId">getTransactionId</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#.makeTransactionId">makeTransactionId</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#.validateEvent">validateEvent</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#completeContent">completeContent</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#completedContentFromEvent">completedContentFromEvent</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#getTimestamp">getTimestamp</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#handleEvent">handleEvent</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#send">send</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#sendCompleted">sendCompleted</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="crypto_DeviceList%250A%250AManages%2520the%2520list%2520of%2520other%2520users_%2520devicesmodule_.html">crypto/DeviceList

Manages the list of other users' devices</a></li><li><a href="crypto_RoomList%250A%250AManages%2520the%2520list%2520of%2520encrypted%2520roomsmodule_.html">crypto/RoomList

Manages the list of encrypted rooms</a></li><li><a href="module-auto-discovery.html">auto-discovery</a></li><li><a href="module-base-apis.html">base-apis</a></li><li><a href="module-client.html">client</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.html#~_encryptEventIfNeeded">_encryptEventIfNeeded</a></li><li data-type='method' style='display: none;'><a href="module-client.html#~_getEncryptedIfNeededEventType">_getEncryptedIfNeededEventType</a></li><li data-type='method' style='display: none;'><a href="module-client.html#~_membershipChange">_membershipChange</a></li><li data-type='method' style='display: none;'><a href="module-client.html#~_setMembershipState">_setMembershipState</a></li><li data-type='method' style='display: none;'><a href="module-client.html#~wrapCryptoFuncs">wrapCryptoFuncs</a></li></ul></li><li><a href="module-content-repo.html">content-repo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-content-repo.html#.getHttpUriForMxc">getHttpUriForMxc</a></li></ul></li><li><a href="module-ContentHelpers.html">ContentHelpers</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeEmoteMessage">makeEmoteMessage</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeHtmlEmote">makeHtmlEmote</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeHtmlMessage">makeHtmlMessage</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeHtmlNotice">makeHtmlNotice</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeNotice">makeNotice</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeTextMessage">makeTextMessage</a></li></ul></li><li><a href="module-crypto.html">crypto</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto.html#.verificationMethods">verificationMethods</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto.html#.fixBackupKey">fixBackupKey</a></li></ul></li><li><a href="module-crypto_algorithms.html">crypto/algorithms</a></li><li><a href="module-crypto_algorithms_base.html">crypto/algorithms/base</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto_algorithms_base.html#.DECRYPTION_CLASSES">DECRYPTION_CLASSES</a></li><li data-type='member' style='display: none;'><a href="module-crypto_algorithms_base.html#.ENCRYPTION_CLASSES">ENCRYPTION_CLASSES</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.html#.registerAlgorithm">registerAlgorithm</a></li></ul></li><li><a href="module-crypto_algorithms_megolm.html">crypto/algorithms/megolm</a></li><li><a href="module-crypto_algorithms_olm.html">crypto/algorithms/olm</a></li><li><a href="module-crypto_CrossSigning.html">crypto/CrossSigning</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.html#.requestKeysDuringVerification">requestKeysDuringVerification</a></li></ul></li><li><a href="module-crypto_deviceinfo.html">crypto/deviceinfo</a></li><li><a href="module-crypto_OutgoingRoomKeyRequestManager.html">crypto/OutgoingRoomKeyRequestManager</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto_OutgoingRoomKeyRequestManager.html#.ROOM_KEY_REQUEST_STATES">ROOM_KEY_REQUEST_STATES</a></li></ul></li><li><a href="module-crypto_SecretStorage.html">crypto/SecretStorage</a></li><li><a href="module-crypto_store_base.html">crypto/store/base</a></li><li><a href="module-crypto_store_indexeddb-crypto-store.html">crypto/store/indexeddb-crypto-store</a></li><li><a href="module-crypto_store_localStorage-crypto-store.html">crypto/store/localStorage-crypto-store</a></li><li><a href="module-crypto_store_memory-crypto-store.html">crypto/store/memory-crypto-store</a></li><li><a href="module-crypto_verification_Base.html">crypto/verification/Base</a></li><li><a href="module-crypto_verification_Error.html">crypto/verification/Error</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newInvalidMessageError">newInvalidMessageError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newKeyMismatchError">newKeyMismatchError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newTimeoutError">newTimeoutError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUnexpectedMessageError">newUnexpectedMessageError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUnknownMethodError">newUnknownMethodError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUnknownTransactionError">newUnknownTransactionError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUserCancelledError">newUserCancelledError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUserMismatchError">newUserMismatchError</a></li></ul></li><li><a href="module-crypto_verification_IllegalMethod.html">crypto/verification/IllegalMethod</a></li><li><a href="module-crypto_verification_QRCode.html">crypto/verification/QRCode</a></li><li><a href="module-crypto_verification_SAS.html">crypto/verification/SAS</a></li><li><a href="module-filter.html">filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-filter.html#~setProp">setProp</a></li></ul></li><li><a href="module-filter-component.html">filter-component</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-filter-component.html#~_matches_wildcard">_matches_wildcard</a></li></ul></li><li><a href="module-http-api.html">http-api</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_IDENTITY_V1">PREFIX_IDENTITY_V1</a></li><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_IDENTITY_V2">PREFIX_IDENTITY_V2</a></li><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_MEDIA_R0">PREFIX_MEDIA_R0</a></li><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_R0">PREFIX_R0</a></li><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_UNSTABLE">PREFIX_UNSTABLE</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-http-api.html#.retryNetworkOperation">retryNetworkOperation</a></li><li data-type='method' style='display: none;'><a href="module-http-api.html#~getResponseContentType">getResponseContentType</a></li><li data-type='method' style='display: none;'><a href="module-http-api.html#~parseErrorResponse">parseErrorResponse</a></li></ul></li><li><a href="module-interactive-auth.html">interactive-auth</a></li><li><a href="module-logger.html">logger</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-logger.html#.logger">logger</a></li></ul></li><li><a href="module-models_event.html">models/event</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-models_event.html#.EventStatus">EventStatus</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_event.html#~_setClearData">_setClearData</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~attemptDecryption">attemptDecryption</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~cancelAndResendKeyRequest">cancelAndResendKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~flagCancelled">flagCancelled</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getAge">getAge</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getAssociatedId">getAssociatedId</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getAssociatedStatus">getAssociatedStatus</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getClaimedEd25519Key">getClaimedEd25519Key</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getClearContent">getClearContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getContent">getContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getDate">getDate</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getDirectionalContent">getDirectionalContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getForwardingCurve25519KeyChain">getForwardingCurve25519KeyChain</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getId">getId</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getKeyRequestRecipients">getKeyRequestRecipients</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getKeysClaimed">getKeysClaimed</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getLocalAge">getLocalAge</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getOriginalContent">getOriginalContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getPrevContent">getPrevContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getPushActions">getPushActions</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getRelation">getRelation</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getRoomId">getRoomId</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getSender">getSender</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getSenderKey">getSenderKey</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getStateKey">getStateKey</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getTs">getTs</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getType">getType</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getWireContent">getWireContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getWireType">getWireType</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~handleRemoteEcho">handleRemoteEcho</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~hasAssocation">hasAssocation</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isBeingDecrypted">isBeingDecrypted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isCancelled">isCancelled</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isDecryptionFailure">isDecryptionFailure</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isEncrypted">isEncrypted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isKeySourceUntrusted">isKeySourceUntrusted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isRedacted">isRedacted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isRedaction">isRedaction</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isRelation">isRelation</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isSending">isSending</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isState">isState</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~localRedactionEvent">localRedactionEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~makeEncrypted">makeEncrypted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~makeRedacted">makeRedacted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~makeReplaced">makeReplaced</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~replacingEvent">replacingEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~replacingEventDate">replacingEventDate</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~replacingEventId">replacingEventId</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~setPushActions">setPushActions</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~setStatus">setStatus</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~toJSON">toJSON</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~updateAssociatedId">updateAssociatedId</a></li></ul></li><li><a href="module-models_event-context.html">models/event-context</a></li><li><a href="module-models_event-timeline.html">models/event-timeline</a></li><li><a href="module-models_event-timeline-set.html">models/event-timeline-set</a></li><li><a href="module-models_group.html">models/group</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_group.html#.Group">Group</a></li></ul></li><li><a href="module-models_room.html">models/room</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_room.html#~calculateRoomName">calculateRoomName</a></li></ul></li><li><a href="module-models_room-member.html">models/room-member</a></li><li><a href="module-models_room-state.html">models/room-state</a></li><li><a href="module-models_room-summary.html">models/room-summary</a></li><li><a href="module-models_search-result.html">models/search-result</a></li><li><a href="module-models_user.html">models/user</a></li><li><a href="module-pushprocessor.html">pushprocessor</a></li><li><a href="module-ReEmitter.html">ReEmitter</a></li><li><a href="module-scheduler.html">scheduler</a></li><li><a href="module-store_indexeddb.html">store/indexeddb</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_indexeddb.html#~degradable">degradable</a></li></ul></li><li><a href="module-store_memory.html">store/memory</a></li><li><a href="module-store_session_webstorage.html">store/session/webstorage</a></li><li><a href="module-store_stub.html">store/stub</a></li><li><a href="module-sync-accumulator.html">sync-accumulator</a></li><li><a href="module-timeline-window.html">timeline-window</a></li><li><a href="module-utils.html">utils</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-utils.html#.checkObjectHasKeys">checkObjectHasKeys</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.checkObjectHasNoAdditionalKeys">checkObjectHasNoAdditionalKeys</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.deepCompare">deepCompare</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.deepCopy">deepCopy</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.encodeParams">encodeParams</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.encodeUri">encodeUri</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.extend">extend</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.filter">filter</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.findElement">findElement</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.inherits">inherits</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.isArray">isArray</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.isFunction">isFunction</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.isNumber">isNumber</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.keys">keys</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.map">map</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.polyfillSuper">polyfillSuper</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.removeElement">removeElement</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.removeHiddenChars">removeHiddenChars</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.runPolyfills">runPolyfills</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.values">values</a></li></ul></li><li><a href="module-webrtc_call.html">webrtc/call</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#.createNewMatrixCall">createNewMatrixCall</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#.setAudioInput">setAudioInput</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#.setAudioOutput">setAudioOutput</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#.setVideoInput">setVideoInput</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#~sendEvent">sendEvent</a></li></ul></li><li><a href="olmlib%250A%250AUtilities%2520common%2520to%2520olm%2520encryption%2520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithms</a><ul class='methods'><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.decodeBase64</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.encodeBase64</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.encodeUnpaddedBase64</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.encryptMessageForDevice</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.ensureOlmSessionsForDevices</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.getExistingOlmSessions</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.pkSign</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.pkVerify</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.verifySignature</a></li></ul></li></ul><h3>Externals</h3><ul><li><a href="external-EventEmitter.html">EventEmitter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#addListener">addListener</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#emit">emit</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#on">on</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#once">once</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#removeAllListeners">removeAllListeners</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#removeListener">removeListener</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#setMaxListeners">setMaxListeners</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="global.html#event:%2522change%2522wheneverthestateoftherequestobjecthaschanged.">"change" whenever the state of the request object has changed.</a></li><li><a href="module-client.html#~event:MatrixClient%2522accountData%2522">MatrixClient"accountData"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Call.incoming%2522">MatrixClient"Call.incoming"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crossSigning.keysChanged%2522">MatrixClient"crossSigning.keysChanged"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.devicesUpdated%2522">MatrixClient"crypto.devicesUpdated"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.keyBackupStatus%2522">MatrixClient"crypto.keyBackupStatus"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.roomKeyRequest%2522">MatrixClient"crypto.roomKeyRequest"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.roomKeyRequestCancellation%2522">MatrixClient"crypto.roomKeyRequestCancellation"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.secrets.requestCancelled%2522">MatrixClient"crypto.secrets.requestCancelled"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.suggestKeyRestore%2522">MatrixClient"crypto.suggestKeyRestore"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.verification.request.unknown%2522">MatrixClient"crypto.verification.request.unknown"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.verification.request%2522">MatrixClient"crypto.verification.request"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.warning%2522">MatrixClient"crypto.warning"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.willUpdateDevices%2522">MatrixClient"crypto.willUpdateDevices"</a></li><li><a href="module-client.html#~event:MatrixClient%2522deleteRoom%2522">MatrixClient"deleteRoom"</a></li><li><a href="module-client.html#~event:MatrixClient%2522deviceVerificationChanged%2522">MatrixClient"deviceVerificationChanged"</a></li><li><a href="module-client.html#~event:MatrixClient%2522event%2522">MatrixClient"event"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Group.myMembership%2522">MatrixClient"Group.myMembership"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Group.profile%2522">MatrixClient"Group.profile"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Group%2522">MatrixClient"Group"</a></li><li><a href="module-client.html#~event:MatrixClient%2522no_consent%2522">MatrixClient"no_consent"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.accountData%2522">MatrixClient"Room.accountData"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.localEchoUpdated%2522">MatrixClient"Room.localEchoUpdated"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.name%2522">MatrixClient"Room.name"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.receipt%2522">MatrixClient"Room.receipt"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.redaction%2522">MatrixClient"Room.redaction"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.redactionCancelled%2522">MatrixClient"Room.redactionCancelled"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.tags%2522">MatrixClient"Room.tags"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.timeline%2522">MatrixClient"Room.timeline"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.timelineReset%2522">MatrixClient"Room.timelineReset"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room%2522">MatrixClient"Room"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomMember.membership%2522">MatrixClient"RoomMember.membership"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomMember.name%2522">MatrixClient"RoomMember.name"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomMember.powerLevel%2522">MatrixClient"RoomMember.powerLevel"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomMember.typing%2522">MatrixClient"RoomMember.typing"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomState.events%2522">MatrixClient"RoomState.events"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomState.members%2522">MatrixClient"RoomState.members"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomState.newMember%2522">MatrixClient"RoomState.newMember"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Session.logged_out%2522">MatrixClient"Session.logged_out"</a></li><li><a href="module-client.html#~event:MatrixClient%2522sync%2522">MatrixClient"sync"</a></li><li><a href="module-client.html#~event:MatrixClient%2522toDeviceEvent%2522">MatrixClient"toDeviceEvent"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.avatarUrl%2522">MatrixClient"User.avatarUrl"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.currentlyActive%2522">MatrixClient"User.currentlyActive"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.displayName%2522">MatrixClient"User.displayName"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.lastPresenceTs%2522">MatrixClient"User.lastPresenceTs"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.presence%2522">MatrixClient"User.presence"</a></li><li><a href="module-client.html#~event:MatrixClient%2522userTrustStatusChanged%2522">MatrixClient"userTrustStatusChanged"</a></li><li><a href="module-client.html#~event:MatrixClient%2522WellKnown.client%2522">MatrixClient"WellKnown.client"</a></li><li><a href="module-models_event.html#.event:MatrixEvent%2522Event.decrypted%2522">MatrixEvent"Event.decrypted"</a></li><li><a href="module-webrtc_call.html#~event:MatrixCall%2522error%2522">MatrixCall"error"</a></li></ul><h3>Interfaces</h3><ul><li><a href="module-crypto_store_base-CryptoStore.html">CryptoStore</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_initialiseFromExportedDevice">_initialiseFromExportedDevice</a></li><li><a href="global.html#clearTimeout">clearTimeout</a></li><li><a href="global.html#createClient">createClient</a></li><li><a href="global.html#decryptBrowser">decryptBrowser</a></li><li><a href="global.html#decryptNode">decryptNode</a></li><li><a href="global.html#encryptBrowser">encryptBrowser</a></li><li><a href="global.html#encryptNode">encryptNode</a></li><li><a href="global.html#EventDecryptionResult">EventDecryptionResult</a></li><li><a href="global.html#exists">exists</a></li><li><a href="global.html#getRequest">getRequest</a></li><li><a href="global.html#InboundGroupSessionData">InboundGroupSessionData</a></li><li><a href="global.html#processFn">processFn</a></li><li><a href="global.html#PushAction">PushAction</a></li><li><a href="global.html#queueAlgorithm">queueAlgorithm</a></li><li><a href="global.html#request">request</a></li><li><a href="global.html#requestCallback">requestCallback</a></li><li><a href="global.html#requestFunction">requestFunction</a></li><li><a href="global.html#requestWrapperFunction">requestWrapperFunction</a></li><li><a href="global.html#retryAlgorithm">retryAlgorithm</a></li><li><a href="global.html#selectQuery">selectQuery</a></li><li><a href="global.html#setCryptoStoreFactory">setCryptoStoreFactory</a></li><li><a href="global.html#setNow">setNow</a></li><li><a href="global.html#setTimeout">setTimeout</a></li><li><a href="global.html#wrapRequest">wrapRequest</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">webrtc/call.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
Copyright 2015, 2016 OpenMarket Ltd
Copyright 2017 New Vector Ltd
Copyright 2019 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

/**
 * This is an internal module. See {@link createNewMatrixCall} for the public API.
 * @module webrtc/call
 */

import {logger} from '../logger';
import {EventEmitter} from "events";
import * as utils from "../utils";

const DEBUG = true;  // set true to enable console logging.

// events: hangup, error(err), replaced(call), state(state, oldState)

/**
 * Fires whenever an error occurs when call.js encounters an issue with setting up the call.
 * &lt;p>
 * The error given will have a code equal to either `MatrixCall.ERR_LOCAL_OFFER_FAILED` or
 * `MatrixCall.ERR_NO_USER_MEDIA`. `ERR_LOCAL_OFFER_FAILED` is emitted when the local client
 * fails to create an offer. `ERR_NO_USER_MEDIA` is emitted when the user has denied access
 * to their audio/video hardware.
 *
 * @event module:webrtc/call~MatrixCall#"error"
 * @param {Error} err The error raised by MatrixCall.
 * @example
 * matrixCall.on("error", function(err){
 *   console.error(err.code, err);
 * });
 */

/**
 * Construct a new Matrix Call.
 * @constructor
 * @param {Object} opts Config options.
 * @param {string} opts.roomId The room ID for this call.
 * @param {Object} opts.webRtc The WebRTC globals from the browser.
 * @param {boolean} opts.forceTURN whether relay through TURN should be forced.
 * @param {Object} opts.URL The URL global.
 * @param {Array&lt;Object>} opts.turnServers Optional. A list of TURN servers.
 * @param {MatrixClient} opts.client The Matrix Client instance to send events to.
 */
export function MatrixCall(opts) {
    this.roomId = opts.roomId;
    this.client = opts.client;
    this.webRtc = opts.webRtc;
    this.forceTURN = opts.forceTURN;
    this.URL = opts.URL;
    // Array of Objects with urls, username, credential keys
    this.turnServers = opts.turnServers || [];
    if (this.turnServers.length === 0 &amp;&amp; this.client.isFallbackICEServerAllowed()) {
        this.turnServers.push({
            urls: [MatrixCall.FALLBACK_ICE_SERVER],
        });
    }
    utils.forEach(this.turnServers, function(server) {
        utils.checkObjectHasKeys(server, ["urls"]);
    });

    this.callId = "c" + new Date().getTime() + Math.random();
    this.state = 'fledgling';
    this.didConnect = false;

    // A queue for candidates waiting to go out.
    // We try to amalgamate candidates into a single candidate message where
    // possible
    this.candidateSendQueue = [];
    this.candidateSendTries = 0;

    // Lookup from opaque queue ID to a promise for media element operations that
    // need to be serialised into a given queue.  Store this per-MatrixCall on the
    // assumption that multiple matrix calls will never compete for control of the
    // same DOM elements.
    this.mediaPromises = Object.create(null);

    this.screenSharingStream = null;

    this._answerContent = null;

    this._sentEndOfCandidates = false;
}
/** The length of time a call can be ringing for. */
MatrixCall.CALL_TIMEOUT_MS = 60000;
/** The fallback ICE server to use for STUN or TURN protocols. */
MatrixCall.FALLBACK_ICE_SERVER = 'stun:turn.matrix.org';
/** An error code when the local client failed to create an offer. */
MatrixCall.ERR_LOCAL_OFFER_FAILED = "local_offer_failed";
/**
 * An error code when there is no local mic/camera to use. This may be because
 * the hardware isn't plugged in, or the user has explicitly denied access.
 */
MatrixCall.ERR_NO_USER_MEDIA = "no_user_media";

/*
 * Error code used when a call event failed to send
 * because unknown devices were present in the room
 */
MatrixCall.ERR_UNKNOWN_DEVICES = "unknown_devices";

/*
 * Error code usewd when we fail to send the invite
 * for some reason other than there being unknown devices
 */
MatrixCall.ERR_SEND_INVITE = "send_invite";

/*
 * Error code usewd when we fail to send the answer
 * for some reason other than there being unknown devices
 */
MatrixCall.ERR_SEND_ANSWER = "send_answer";

utils.inherits(MatrixCall, EventEmitter);

/**
 * Place a voice call to this room.
 * @throws If you have not specified a listener for 'error' events.
 */
MatrixCall.prototype.placeVoiceCall = function() {
    debuglog("placeVoiceCall");
    checkForErrorListener(this);
    _placeCallWithConstraints(this, _getUserMediaVideoContraints('voice'));
    this.type = 'voice';
};

/**
 * Place a video call to this room.
 * @param {Element} remoteVideoElement a &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element
 * to render video to.
 * @param {Element} localVideoElement a &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element
 * to render the local camera preview.
 * @throws If you have not specified a listener for 'error' events.
 */
MatrixCall.prototype.placeVideoCall = function(remoteVideoElement, localVideoElement) {
    debuglog("placeVideoCall");
    checkForErrorListener(this);
    this.localVideoElement = localVideoElement;
    this.remoteVideoElement = remoteVideoElement;
    _placeCallWithConstraints(this, _getUserMediaVideoContraints('video'));
    this.type = 'video';
    _tryPlayRemoteStream(this);
};

/**
 * Place a screen-sharing call to this room. This includes audio.
 * &lt;b>This method is EXPERIMENTAL and subject to change without warning. It
 * only works in Google Chrome and Firefox >= 44.&lt;/b>
 * @param {Element} remoteVideoElement a &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element
 * to render video to.
 * @param {Element} localVideoElement a &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element
 * to render the local camera preview.
 * @throws If you have not specified a listener for 'error' events.
 */
MatrixCall.prototype.placeScreenSharingCall =
    async function(remoteVideoElement, localVideoElement) {
    debuglog("placeScreenSharingCall");
    checkForErrorListener(this);
    this.localVideoElement = localVideoElement;
    this.remoteVideoElement = remoteVideoElement;
    const self = this;
    try {
        self.screenSharingStream = await this.webRtc.getDisplayMedia({'audio': false});
        debuglog("Got screen stream, requesting audio stream...");
        const audioConstraints = _getUserMediaVideoContraints('voice');
        _placeCallWithConstraints(self, audioConstraints);
    } catch (err) {
        self.emit("error",
            callError(
                MatrixCall.ERR_NO_USER_MEDIA,
                "Failed to get screen-sharing stream: " + err,
            ),
        );
    }

    this.type = 'video';
    _tryPlayRemoteStream(this);
};

/**
 * Play the given HTMLMediaElement, serialising the operation into a chain
 * of promises to avoid racing access to the element
 * @param {Element} element HTMLMediaElement element to play
 * @param {string} queueId Arbitrary ID to track the chain of promises to be used
 */
MatrixCall.prototype.playElement = function(element, queueId) {
    logger.log("queuing play on " + queueId + " and element " + element);
    // XXX: FIXME: Does this leak elements, given the old promises
    // may hang around and retain a reference to them?
    if (this.mediaPromises[queueId]) {
        // XXX: these promises can fail (e.g. by &lt;video/> being unmounted whilst
        // pending receiving media to play - e.g. whilst switching between
        // rooms before answering an inbound call), and throw unhandled exceptions.
        // However, we should soldier on as best we can even if they fail, given
        // these failures may be non-fatal (as in the case of unmounts)
        this.mediaPromises[queueId] =
            this.mediaPromises[queueId].then(function() {
                logger.log("previous promise completed for " + queueId);
                return element.play();
            }, function() {
                logger.log("previous promise failed for " + queueId);
                return element.play();
            });
    } else {
        this.mediaPromises[queueId] = element.play();
    }
};

/**
 * Pause the given HTMLMediaElement, serialising the operation into a chain
 * of promises to avoid racing access to the element
 * @param {Element} element HTMLMediaElement element to pause
 * @param {string} queueId Arbitrary ID to track the chain of promises to be used
 */
MatrixCall.prototype.pauseElement = function(element, queueId) {
    logger.log("queuing pause on " + queueId + " and element " + element);
    if (this.mediaPromises[queueId]) {
        this.mediaPromises[queueId] =
            this.mediaPromises[queueId].then(function() {
                logger.log("previous promise completed for " + queueId);
                return element.pause();
            }, function() {
                logger.log("previous promise failed for " + queueId);
                return element.pause();
            });
    } else {
        // pause doesn't actually return a promise, but do this for symmetry
        // and just in case it does in future.
        this.mediaPromises[queueId] = element.pause();
    }
};

/**
 * Assign the given HTMLMediaElement by setting the .src attribute on it,
 * serialising the operation into a chain of promises to avoid racing access
 * to the element
 * @param {Element} element HTMLMediaElement element to pause
 * @param {MediaStream} srcObject the srcObject attribute value to assign to the element
 * @param {string} queueId Arbitrary ID to track the chain of promises to be used
 */
MatrixCall.prototype.assignElement = function(element, srcObject, queueId) {
    logger.log("queuing assign on " + queueId + " element " + element + " for " +
        srcObject);
    if (this.mediaPromises[queueId]) {
        this.mediaPromises[queueId] =
            this.mediaPromises[queueId].then(function() {
                logger.log("previous promise completed for " + queueId);
                element.srcObject = srcObject;
            }, function() {
                logger.log("previous promise failed for " + queueId);
                element.srcObject = srcObject;
            });
    } else {
        element.srcObject = srcObject;
    }
};

/**
 * Retrieve the local &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element.
 * @return {Element} The dom element
 */
MatrixCall.prototype.getLocalVideoElement = function() {
    return this.localVideoElement;
};

/**
 * Retrieve the remote &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element
 * used for playing back video capable streams.
 * @return {Element} The dom element
 */
MatrixCall.prototype.getRemoteVideoElement = function() {
    return this.remoteVideoElement;
};

/**
 * Retrieve the remote &lt;code>&amp;lt;audio&amp;gt;&lt;/code> DOM element
 * used for playing back audio only streams.
 * @return {Element} The dom element
 */
MatrixCall.prototype.getRemoteAudioElement = function() {
    return this.remoteAudioElement;
};

/**
 * Set the local &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element. If this call is active,
 * video will be rendered to it immediately.
 * @param {Element} element The &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element.
 */
MatrixCall.prototype.setLocalVideoElement = function(element) {
    this.localVideoElement = element;

    if (element &amp;&amp; this.localAVStream &amp;&amp; this.type === 'video') {
        element.autoplay = true;
        this.assignElement(element, this.localAVStream, "localVideo");
        element.muted = true;
        const self = this;
        setTimeout(function() {
            const vel = self.getLocalVideoElement();
            if (vel.play) {
                self.playElement(vel, "localVideo");
            }
        }, 0);
    }
};

/**
 * Set the remote &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element. If this call is active,
 * the first received video-capable stream will be rendered to it immediately.
 * @param {Element} element The &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element.
 */
MatrixCall.prototype.setRemoteVideoElement = function(element) {
    this.remoteVideoElement = element;
    _tryPlayRemoteStream(this);
};

/**
 * Set the remote &lt;code>&amp;lt;audio&amp;gt;&lt;/code> DOM element. If this call is active,
 * the first received audio-only stream will be rendered to it immediately.
 * The audio will *not* be rendered from the remoteVideoElement.
 * @param {Element} element The &lt;code>&amp;lt;video&amp;gt;&lt;/code> DOM element.
 */
MatrixCall.prototype.setRemoteAudioElement = function(element) {
    this.remoteVideoElement.muted = true;
    this.remoteAudioElement = element;
    this.remoteAudioElement.muted = false;
    _tryPlayRemoteAudioStream(this);
};

/**
 * Configure this call from an invite event. Used by MatrixClient.
 * @protected
 * @param {MatrixEvent} event The m.call.invite event
 */
MatrixCall.prototype._initWithInvite = function(event) {
    this.msg = event.getContent();
    this.peerConn = _createPeerConnection(this);
    const self = this;
    if (this.peerConn) {
        this.peerConn.setRemoteDescription(
            new this.webRtc.RtcSessionDescription(this.msg.offer),
            hookCallback(self, self._onSetRemoteDescriptionSuccess),
            hookCallback(self, self._onSetRemoteDescriptionError),
        );
    }
    setState(this, 'ringing');
    this.direction = 'inbound';

    // firefox and OpenWebRTC's RTCPeerConnection doesn't add streams until it
    // starts getting media on them so we need to figure out whether a video
    // channel has been offered by ourselves.
    if (
        this.msg.offer &amp;&amp;
        this.msg.offer.sdp &amp;&amp;
        this.msg.offer.sdp.indexOf('m=video') > -1
    ) {
        this.type = 'video';
    } else {
        this.type = 'voice';
    }

    if (event.getAge()) {
        setTimeout(function() {
            if (self.state == 'ringing') {
                debuglog("Call invite has expired. Hanging up.");
                self.hangupParty = 'remote'; // effectively
                setState(self, 'ended');
                stopAllMedia(self);
                if (self.peerConn.signalingState != 'closed') {
                    self.peerConn.close();
                }
                self.emit("hangup", self);
            }
        }, this.msg.lifetime - event.getAge());
    }
};

/**
 * Configure this call from a hangup event. Used by MatrixClient.
 * @protected
 * @param {MatrixEvent} event The m.call.hangup event
 */
MatrixCall.prototype._initWithHangup = function(event) {
    // perverse as it may seem, sometimes we want to instantiate a call with a
    // hangup message (because when getting the state of the room on load, events
    // come in reverse order and we want to remember that a call has been hung up)
    this.msg = event.getContent();
    setState(this, 'ended');
};

/**
 * Answer a call.
 */
MatrixCall.prototype.answer = function() {
    debuglog(`Answering call ${this.callId} of type ${this.type}`);
    const self = this;

    if (self._answerContent) {
        self._sendAnswer();
        return;
    }

    if (!this.localAVStream &amp;&amp; !this.waitForLocalAVStream) {
        const constraints = _getUserMediaVideoContraints(this.type);
        logger.log("Getting user media with constraints", constraints);
        this.webRtc.getUserMedia(
            constraints,
            hookCallback(self, self._maybeGotUserMediaForAnswer),
            hookCallback(self, self._maybeGotUserMediaForAnswer),
        );
        setState(this, 'wait_local_media');
    } else if (this.localAVStream) {
        this._maybeGotUserMediaForAnswer(this.localAVStream);
    } else if (this.waitForLocalAVStream) {
        setState(this, 'wait_local_media');
    }
};

/**
 * Replace this call with a new call, e.g. for glare resolution. Used by
 * MatrixClient.
 * @protected
 * @param {MatrixCall} newCall The new call.
 */
MatrixCall.prototype._replacedBy = function(newCall) {
    debuglog(this.callId + " being replaced by " + newCall.callId);
    if (this.state == 'wait_local_media') {
        debuglog("Telling new call to wait for local media");
        newCall.waitForLocalAVStream = true;
    } else if (this.state == 'create_offer') {
        debuglog("Handing local stream to new call");
        newCall._maybeGotUserMediaForAnswer(this.localAVStream);
        delete(this.localAVStream);
    } else if (this.state == 'invite_sent') {
        debuglog("Handing local stream to new call");
        newCall._maybeGotUserMediaForAnswer(this.localAVStream);
        delete(this.localAVStream);
    }
    newCall.localVideoElement = this.localVideoElement;
    newCall.remoteVideoElement = this.remoteVideoElement;
    newCall.remoteAudioElement = this.remoteAudioElement;
    this.successor = newCall;
    this.emit("replaced", newCall);
    this.hangup(true);
};

/**
 * Hangup a call.
 * @param {string} reason The reason why the call is being hung up.
 * @param {boolean} suppressEvent True to suppress emitting an event.
 */
MatrixCall.prototype.hangup = function(reason, suppressEvent) {
    if (this.state == 'ended') return;

    debuglog("Ending call " + this.callId);
    terminate(this, "local", reason, !suppressEvent);
    const content = {
        version: 0,
        call_id: this.callId,
        reason: reason,
    };
    sendEvent(this, 'm.call.hangup', content);
};

/**
 * Set whether the local video preview should be muted or not.
 * @param {boolean} muted True to mute the local video.
 */
MatrixCall.prototype.setLocalVideoMuted = function(muted) {
    if (!this.localAVStream) {
        return;
    }
    setTracksEnabled(this.localAVStream.getVideoTracks(), !muted);
};

/**
 * Check if local video is muted.
 *
 * If there are multiple video tracks, &lt;i>all&lt;/i> of the tracks need to be muted
 * for this to return true. This means if there are no video tracks, this will
 * return true.
 * @return {Boolean} True if the local preview video is muted, else false
 * (including if the call is not set up yet).
 */
MatrixCall.prototype.isLocalVideoMuted = function() {
    if (!this.localAVStream) {
        return false;
    }
    return !isTracksEnabled(this.localAVStream.getVideoTracks());
};

/**
 * Set whether the microphone should be muted or not.
 * @param {boolean} muted True to mute the mic.
 */
MatrixCall.prototype.setMicrophoneMuted = function(muted) {
    if (!this.localAVStream) {
        return;
    }
    setTracksEnabled(this.localAVStream.getAudioTracks(), !muted);
};

/**
 * Check if the microphone is muted.
 *
 * If there are multiple audio tracks, &lt;i>all&lt;/i> of the tracks need to be muted
 * for this to return true. This means if there are no audio tracks, this will
 * return true.
 * @return {Boolean} True if the mic is muted, else false (including if the call
 * is not set up yet).
 */
MatrixCall.prototype.isMicrophoneMuted = function() {
    if (!this.localAVStream) {
        return false;
    }
    return !isTracksEnabled(this.localAVStream.getAudioTracks());
};

/**
 * Internal
 * @private
 * @param {Object} stream
 */
MatrixCall.prototype._maybeGotUserMediaForInvite = function(stream) {
    if (this.successor) {
        this.successor._maybeGotUserMediaForAnswer(stream);
        return;
    }
    if (this.state == 'ended') {
        return;
    }
    debuglog("_maybeGotUserMediaForInvite -> " + this.type);
    const self = this;

    const error = stream;
    const constraints = {
        'mandatory': {
            'OfferToReceiveAudio': true,
            'OfferToReceiveVideo': self.type === 'video',
        },
    };
    if (stream instanceof MediaStream) {
        const videoEl = this.getLocalVideoElement();

        if (videoEl &amp;&amp; this.type == 'video') {
            videoEl.autoplay = true;
            if (this.screenSharingStream) {
                debuglog("Setting screen sharing stream to the local video" +
                    " element");
                this.assignElement(videoEl, this.screenSharingStream, "localVideo");
            } else {
                this.assignElement(videoEl, stream, "localVideo");
            }
            videoEl.muted = true;
            setTimeout(function() {
                const vel = self.getLocalVideoElement();
                if (vel.play) {
                    self.playElement(vel, "localVideo");
                }
            }, 0);
        }

        if (this.screenSharingStream) {
            this.screenSharingStream.addTrack(stream.getAudioTracks()[0]);
            stream = this.screenSharingStream;
        }

        this.localAVStream = stream;
        // why do we enable audio (and only audio) tracks here? -- matthew
        setTracksEnabled(stream.getAudioTracks(), true);
        this.peerConn = _createPeerConnection(this);
        this.peerConn.addStream(stream);
    } else if (error.name === 'PermissionDeniedError') {
        debuglog('User denied access to camera/microphone.' +
            ' Or possibly you are using an insecure domain. Receiving only.');
        this.peerConn = _createPeerConnection(this);
    } else {
        debuglog('Failed to getUserMedia: ' + error.name);
        this._getUserMediaFailed(error);
        return;
    }

    this.peerConn.createOffer(
        hookCallback(self, self._gotLocalOffer),
        hookCallback(self, self._getLocalOfferFailed),
        constraints,
    );
    setState(self, 'create_offer');
};

MatrixCall.prototype._sendAnswer = function(stream) {
    sendEvent(this, 'm.call.answer', this._answerContent).then(() => {
        setState(this, 'connecting');
        // If this isn't the first time we've tried to send the answer,
        // we may have candidates queued up, so send them now.
        _sendCandidateQueue(this);
    }).catch((error) => {
        // We've failed to answer: back to the ringing state
        setState(this, 'ringing');
        this.client.cancelPendingEvent(error.event);

        let code = MatrixCall.ERR_SEND_ANSWER;
        let message = "Failed to send answer";
        if (error.name == 'UnknownDeviceError') {
            code = MatrixCall.ERR_UNKNOWN_DEVICES;
            message = "Unknown devices present in the room";
        }
        this.emit("error", callError(code, message));
        throw error;
    });
};

/**
 * Internal
 * @private
 * @param {Object} stream
 */
MatrixCall.prototype._maybeGotUserMediaForAnswer = function(stream) {
    const self = this;
    if (self.state == 'ended') {
        return;
    }

    const error = stream;
    if (stream instanceof MediaStream) {
        const localVidEl = self.getLocalVideoElement();

        if (localVidEl &amp;&amp; self.type == 'video') {
            localVidEl.autoplay = true;
            this.assignElement(localVidEl, stream, "localVideo");
            localVidEl.muted = true;
            setTimeout(function() {
                const vel = self.getLocalVideoElement();
                if (vel.play) {
                    self.playElement(vel, "localVideo");
                }
            }, 0);
        }

        self.localAVStream = stream;
        setTracksEnabled(stream.getAudioTracks(), true);
        self.peerConn.addStream(stream);
    } else if (error.name === 'PermissionDeniedError') {
        debuglog('User denied access to camera/microphone.' +
            ' Or possibly you are using an insecure domain. Receiving only.');
    } else {
        debuglog('Failed to getUserMedia: ' + error.name);
        this._getUserMediaFailed(error);
        return;
    }

    const constraints = {
        'mandatory': {
            'OfferToReceiveAudio': true,
            'OfferToReceiveVideo': self.type === 'video',
        },
    };
    self.peerConn.createAnswer(function(description) {
        debuglog("Created answer: ", description);
        self.peerConn.setLocalDescription(description, function() {
            self._answerContent = {
                version: 0,
                call_id: self.callId,
                answer: {
                    sdp: self.peerConn.localDescription.sdp,
                    type: self.peerConn.localDescription.type,
                },
            };
            self._sendAnswer();
        }, function() {
            debuglog("Error setting local description!");
        }, constraints);
    }, function(err) {
        debuglog("Failed to create answer: " + err);
    });
    setState(self, 'create_answer');
};

/**
 * Internal
 * @private
 * @param {Object} event
 */
MatrixCall.prototype._gotLocalIceCandidate = function(event) {
    if (event.candidate) {
        debuglog(
            "Got local ICE " + event.candidate.sdpMid + " candidate: " +
            event.candidate.candidate,
        );

        if (this.state == 'ended') return;

        // As with the offer, note we need to make a copy of this object, not
        // pass the original: that broke in Chrome ~m43.
        if (event.candidate.candidate !== '' || !this._sentEndOfCandidates) {
            const c = {
                candidate: event.candidate.candidate,
                sdpMid: event.candidate.sdpMid,
                sdpMLineIndex: event.candidate.sdpMLineIndex,
            };
            sendCandidate(this, c);

            if (event.candidate.candidate === '') this._sentEndOfCandidates = true;
        }
    }
};

MatrixCall.prototype._onIceGatheringStateChange = function(event) {
    debuglog("ice gathering state changed to " + this.peerConn.iceGatheringState);
    if (this.peerConn.iceGatheringState === 'complete' &amp;&amp; !this._sentEndOfCandidates) {
        // If we didn't get an empty-string candidate to signal the end of candidates,
        // create one ourselves now gathering has finished.
        const c = {
            candidate: '',
        };
        sendCandidate(this, c);
        this._sentEndOfCandidates = true;
    }
};

/**
 * Used by MatrixClient.
 * @protected
 * @param {Object} cand
 */
MatrixCall.prototype._gotRemoteIceCandidate = function(cand) {
    if (this.state == 'ended') {
        //debuglog("Ignoring remote ICE candidate because call has ended");
        return;
    }
    debuglog("Got remote ICE " + cand.sdpMid + " candidate: " + cand.candidate);
    this.peerConn.addIceCandidate(
        new this.webRtc.RtcIceCandidate(cand),
        function() {},
        function(e) {},
    );
};

/**
 * Used by MatrixClient.
 * @protected
 * @param {Object} msg
 */
MatrixCall.prototype._receivedAnswer = function(msg) {
    if (this.state == 'ended') {
        return;
    }

    const self = this;
    this.peerConn.setRemoteDescription(
        new this.webRtc.RtcSessionDescription(msg.answer),
        hookCallback(self, self._onSetRemoteDescriptionSuccess),
        hookCallback(self, self._onSetRemoteDescriptionError),
    );
    setState(self, 'connecting');
};

/**
 * Internal
 * @private
 * @param {Object} description
 */
MatrixCall.prototype._gotLocalOffer = function(description) {
    const self = this;
    debuglog("Created offer: ", description);

    if (self.state == 'ended') {
        debuglog("Ignoring newly created offer on call ID " + self.callId +
            " because the call has ended");
        return;
    }

    self.peerConn.setLocalDescription(description, function() {
        const content = {
            version: 0,
            call_id: self.callId,
            // OpenWebRTC appears to add extra stuff (like the DTLS fingerprint)
            // to the description when setting it on the peerconnection.
            // According to the spec it should only add ICE
            // candidates. Any ICE candidates that have already been generated
            // at this point will probably be sent both in the offer and separately.
            // Also, note that we have to make a new object here, copying the
            // type and sdp properties.
            // Passing the RTCSessionDescription object as-is doesn't work in
            // Chrome (as of about m43).
            offer: {
                sdp: self.peerConn.localDescription.sdp,
                type: self.peerConn.localDescription.type,
            },
            lifetime: MatrixCall.CALL_TIMEOUT_MS,
        };
        sendEvent(self, 'm.call.invite', content).then(() => {
            setState(self, 'invite_sent');
            setTimeout(function() {
                if (self.state == 'invite_sent') {
                    self.hangup('invite_timeout');
                }
            }, MatrixCall.CALL_TIMEOUT_MS);
        }).catch((error) => {
            let code = MatrixCall.ERR_SEND_INVITE;
            let message = "Failed to send invite";
            if (error.name == 'UnknownDeviceError') {
                code = MatrixCall.ERR_UNKNOWN_DEVICES;
                message = "Unknown devices present in the room";
            }

            self.client.cancelPendingEvent(error.event);
            terminate(self, "local", code, false);
            self.emit("error", callError(code, message));
            throw error;
        });
    }, function() {
        debuglog("Error setting local description!");
    });
};

/**
 * Internal
 * @private
 * @param {Object} error
 */
MatrixCall.prototype._getLocalOfferFailed = function(error) {
    this.emit(
        "error",
        callError(MatrixCall.ERR_LOCAL_OFFER_FAILED, "Failed to start audio for call!"),
    );
};

/**
 * Internal
 * @private
 * @param {Object} error
 */
MatrixCall.prototype._getUserMediaFailed = function(error) {
    terminate(this, "local", 'user_media_failed', false);
    this.emit(
        "error",
        callError(
            MatrixCall.ERR_NO_USER_MEDIA,
            "Couldn't start capturing media! Is your microphone set up and " +
            "does this app have permission?",
        ),
    );
};

/**
 * Internal
 * @private
 */
MatrixCall.prototype._onIceConnectionStateChanged = function() {
    if (this.state == 'ended') {
        return; // because ICE can still complete as we're ending the call
    }
    debuglog(
        "Ice connection state changed to: " + this.peerConn.iceConnectionState,
    );
    // ideally we'd consider the call to be connected when we get media but
    // chrome doesn't implement any of the 'onstarted' events yet
    if (this.peerConn.iceConnectionState == 'completed' ||
            this.peerConn.iceConnectionState == 'connected') {
        setState(this, 'connected');
        this.didConnect = true;
    } else if (this.peerConn.iceConnectionState == 'failed') {
        this.hangup('ice_failed');
    }
};

/**
 * Internal
 * @private
 */
MatrixCall.prototype._onSignallingStateChanged = function() {
    debuglog(
        "call " + this.callId + ": Signalling state changed to: " +
        this.peerConn.signalingState,
    );
};

/**
 * Internal
 * @private
 */
MatrixCall.prototype._onSetRemoteDescriptionSuccess = function() {
    debuglog("Set remote description");
};

/**
 * Internal
 * @private
 * @param {Object} e
 */
MatrixCall.prototype._onSetRemoteDescriptionError = function(e) {
    debuglog("Failed to set remote description" + e);
};

/**
 * Internal
 * @private
 * @param {Object} event
 */
MatrixCall.prototype._onAddStream = function(event) {
    debuglog("Stream id " + event.stream.id + " added");

    const s = event.stream;

    if (s.getVideoTracks().length > 0) {
        this.type = 'video';
        this.remoteAVStream = s;
        this.remoteAStream = s;
    } else {
        this.type = 'voice';
        this.remoteAStream = s;
    }

    const self = this;
    forAllTracksOnStream(s, function(t) {
        debuglog("Track id " + t.id + " added");
        // not currently implemented in chrome
        t.onstarted = hookCallback(self, self._onRemoteStreamTrackStarted);
    });

    if (event.stream.oninactive !== undefined) {
        event.stream.oninactive = hookCallback(self, self._onRemoteStreamEnded);
    } else {
        // onended is deprecated from Chrome 54
        event.stream.onended = hookCallback(self, self._onRemoteStreamEnded);
    }

    // not currently implemented in chrome
    event.stream.onstarted = hookCallback(self, self._onRemoteStreamStarted);

    if (this.type === 'video') {
        _tryPlayRemoteStream(this);
        _tryPlayRemoteAudioStream(this);
    } else {
        _tryPlayRemoteAudioStream(this);
    }
};

/**
 * Internal
 * @private
 * @param {Object} event
 */
MatrixCall.prototype._onRemoteStreamStarted = function(event) {
    setState(this, 'connected');
};

/**
 * Internal
 * @private
 * @param {Object} event
 */
MatrixCall.prototype._onRemoteStreamEnded = function(event) {
    debuglog("Remote stream ended");
    this.hangupParty = 'remote';
    setState(this, 'ended');
    stopAllMedia(this);
    if (this.peerConn.signalingState != 'closed') {
        this.peerConn.close();
    }
    this.emit("hangup", this);
};

/**
 * Internal
 * @private
 * @param {Object} event
 */
MatrixCall.prototype._onRemoteStreamTrackStarted = function(event) {
    setState(this, 'connected');
};

/**
 * Used by MatrixClient.
 * @protected
 * @param {Object} msg
 */
MatrixCall.prototype._onHangupReceived = function(msg) {
    debuglog("Hangup received");
    terminate(this, "remote", msg.reason, true);
};

/**
 * Used by MatrixClient.
 * @protected
 * @param {Object} msg
 */
MatrixCall.prototype._onAnsweredElsewhere = function(msg) {
    debuglog("Answered elsewhere");
    terminate(this, "remote", "answered_elsewhere", true);
};

const setTracksEnabled = function(tracks, enabled) {
    for (let i = 0; i &lt; tracks.length; i++) {
        tracks[i].enabled = enabled;
    }
};

const isTracksEnabled = function(tracks) {
    for (let i = 0; i &lt; tracks.length; i++) {
        if (tracks[i].enabled) {
            return true; // at least one track is enabled
        }
    }
    return false;
};

const setState = function(self, state) {
    const oldState = self.state;
    self.state = state;
    self.emit("state", state, oldState);
};

/**
 * Internal
 * @param {MatrixCall} self
 * @param {string} eventType
 * @param {Object} content
 * @return {Promise}
 */
const sendEvent = function(self, eventType, content) {
    return self.client.sendEvent(self.roomId, eventType, content);
};

const sendCandidate = function(self, content) {
    // Sends candidates with are sent in a special way because we try to amalgamate
    // them into one message
    self.candidateSendQueue.push(content);

    // Don't send the ICE candidates yet if the call is in the ringing state: this
    // means we tried to pick (ie. started generating candidates) and then failed to
    // send the answer and went back to the ringing state. Queue up the candidates
    // to send if we sucessfully send the answer.
    if (self.state == 'ringing') return;

    if (self.candidateSendTries === 0) {
        setTimeout(function() {
            _sendCandidateQueue(self);
        }, 100);
    }
};

const terminate = function(self, hangupParty, hangupReason, shouldEmit) {
    if (self.getRemoteVideoElement()) {
        if (self.getRemoteVideoElement().pause) {
            self.pauseElement(self.getRemoteVideoElement(), "remoteVideo");
        }
        self.assignElement(self.getRemoteVideoElement(), null, "remoteVideo");
    }
    if (self.getRemoteAudioElement()) {
        if (self.getRemoteAudioElement().pause) {
            self.pauseElement(self.getRemoteAudioElement(), "remoteAudio");
        }
        self.assignElement(self.getRemoteAudioElement(), null, "remoteAudio");
    }
    if (self.getLocalVideoElement()) {
        if (self.getLocalVideoElement().pause) {
            self.pauseElement(self.getLocalVideoElement(), "localVideo");
        }
        self.assignElement(self.getLocalVideoElement(), null, "localVideo");
    }
    self.hangupParty = hangupParty;
    self.hangupReason = hangupReason;
    setState(self, 'ended');
    stopAllMedia(self);
    if (self.peerConn &amp;&amp; self.peerConn.signalingState !== 'closed') {
        self.peerConn.close();
    }
    if (shouldEmit) {
        self.emit("hangup", self);
    }
};

const stopAllMedia = function(self) {
    debuglog(`stopAllMedia (stream=${self.localAVStream})`);
    if (self.localAVStream) {
        forAllTracksOnStream(self.localAVStream, function(t) {
            if (t.stop) {
                t.stop();
            }
        });
        // also call stop on the main stream so firefox will stop sharing
        // the mic
        if (self.localAVStream.stop) {
            self.localAVStream.stop();
        }
    }
    if (self.screenSharingStream) {
        forAllTracksOnStream(self.screenSharingStream, function(t) {
            if (t.stop) {
                t.stop();
            }
        });
        if (self.screenSharingStream.stop) {
            self.screenSharingStream.stop();
        }
    }
    if (self.remoteAVStream) {
        forAllTracksOnStream(self.remoteAVStream, function(t) {
            if (t.stop) {
                t.stop();
            }
        });
    }
    if (self.remoteAStream) {
        forAllTracksOnStream(self.remoteAStream, function(t) {
            if (t.stop) {
                t.stop();
            }
        });
    }
};

const _tryPlayRemoteStream = function(self) {
    if (self.getRemoteVideoElement() &amp;&amp; self.remoteAVStream) {
        const player = self.getRemoteVideoElement();
        player.autoplay = true;
        self.assignElement(player, self.remoteAVStream, "remoteVideo");
        setTimeout(function() {
            const vel = self.getRemoteVideoElement();
            if (vel.play) {
                self.playElement(vel, "remoteVideo");
            }
            // OpenWebRTC does not support oniceconnectionstatechange yet
            if (self.webRtc.isOpenWebRTC()) {
                setState(self, 'connected');
            }
        }, 0);
    }
};

const _tryPlayRemoteAudioStream = async function(self) {
    if (self.getRemoteAudioElement() &amp;&amp; self.remoteAStream) {
        const player = self.getRemoteAudioElement();

        // if audioOutput is non-default:
        try {
            if (audioOutput) await player.setSinkId(audioOutput);
        } catch (e) {
            logger.warn("Couldn't set requested audio output device: using default", e);
        }

        player.autoplay = true;
        self.assignElement(player, self.remoteAStream, "remoteAudio");
        setTimeout(function() {
            const ael = self.getRemoteAudioElement();
            if (ael.play) {
                self.playElement(ael, "remoteAudio");
            }
            // OpenWebRTC does not support oniceconnectionstatechange yet
            if (self.webRtc.isOpenWebRTC()) {
                setState(self, 'connected');
            }
        }, 0);
    }
};

const checkForErrorListener = function(self) {
    if (self.listeners("error").length === 0) {
        throw new Error(
            "You MUST attach an error listener using call.on('error', function() {})",
        );
    }
};

const callError = function(code, msg) {
    const e = new Error(msg);
    e.code = code;
    return e;
};

const debuglog = function() {
    if (DEBUG) {
        logger.log(...arguments);
    }
};

const _sendCandidateQueue = function(self) {
    if (self.candidateSendQueue.length === 0) {
        return;
    }

    const cands = self.candidateSendQueue;
    self.candidateSendQueue = [];
    ++self.candidateSendTries;
    const content = {
        version: 0,
        call_id: self.callId,
        candidates: cands,
    };
    debuglog("Attempting to send " + cands.length + " candidates");
    sendEvent(self, 'm.call.candidates', content).then(function() {
        self.candidateSendTries = 0;
        _sendCandidateQueue(self);
    }, function(error) {
        for (let i = 0; i &lt; cands.length; i++) {
            self.candidateSendQueue.push(cands[i]);
        }

        if (self.candidateSendTries > 5) {
            debuglog(
                "Failed to send candidates on attempt " + self.candidateSendTries +
                ". Giving up for now.",
            );
            self.candidateSendTries = 0;
            return;
        }

        const delayMs = 500 * Math.pow(2, self.candidateSendTries);
        ++self.candidateSendTries;
        debuglog("Failed to send candidates. Retrying in " + delayMs + "ms");
        setTimeout(function() {
            _sendCandidateQueue(self);
        }, delayMs);
    });
};

const _placeCallWithConstraints = function(self, constraints) {
    logger.log("Getting user media with constraints", constraints);
    self.client.callList[self.callId] = self;
    self.webRtc.getUserMedia(
        constraints,
        hookCallback(self, self._maybeGotUserMediaForInvite),
        hookCallback(self, self._maybeGotUserMediaForInvite),
    );
    setState(self, 'wait_local_media');
    self.direction = 'outbound';
    self.config = constraints;
};

const _createPeerConnection = function(self) {
    const pc = new self.webRtc.RtcPeerConnection({
        iceTransportPolicy: self.forceTURN ? 'relay' : undefined,
        iceServers: self.turnServers,
    });
    pc.oniceconnectionstatechange = hookCallback(self, self._onIceConnectionStateChanged);
    pc.onsignalingstatechange = hookCallback(self, self._onSignallingStateChanged);
    pc.onicecandidate = hookCallback(self, self._gotLocalIceCandidate);
    pc.onicegatheringstatechange = hookCallback(self, self._onIceGatheringStateChange);
    pc.onaddstream = hookCallback(self, self._onAddStream);
    return pc;
};

const _getUserMediaVideoContraints = function(callType) {
    const isWebkit = !!global.window.navigator.webkitGetUserMedia;

    switch (callType) {
        case 'voice':
            return {
                audio: {
                    deviceId: audioInput ? {ideal: audioInput} : undefined,
                }, video: false,
            };
        case 'video':
            return {
                audio: {
                    deviceId: audioInput ? {ideal: audioInput} : undefined,
                }, video: {
                    deviceId: videoInput ? {ideal: videoInput} : undefined,
                    /* We want 640x360.  Chrome will give it only if we ask exactly,
                       FF refuses entirely if we ask exactly, so have to ask for ideal
                       instead */
                    width: isWebkit ? { exact: 640 } : { ideal: 640 },
                    height: isWebkit ? { exact: 360 } : { ideal: 360 },
                },
            };
    }
};

const hookCallback = function(call, fn) {
    return function() {
        return fn.apply(call, arguments);
    };
};

const forAllVideoTracksOnStream = function(s, f) {
    const tracks = s.getVideoTracks();
    for (let i = 0; i &lt; tracks.length; i++) {
        f(tracks[i]);
    }
};

const forAllAudioTracksOnStream = function(s, f) {
    const tracks = s.getAudioTracks();
    for (let i = 0; i &lt; tracks.length; i++) {
        f(tracks[i]);
    }
};

const forAllTracksOnStream = function(s, f) {
    forAllVideoTracksOnStream(s, f);
    forAllAudioTracksOnStream(s, f);
};

let audioOutput;
let audioInput;
let videoInput;
/**
 * Set an audio output device to use for MatrixCalls
 * @function
 * @param {string=} deviceId the identifier for the device
 * undefined treated as unset
 */
export function setAudioOutput(deviceId) { audioOutput = deviceId; }
/**
 * Set an audio input device to use for MatrixCalls
 * @function
 * @param {string=} deviceId the identifier for the device
 * undefined treated as unset
 */
export function setAudioInput(deviceId) { audioInput = deviceId; }
/**
 * Set a video input device to use for MatrixCalls
 * @function
 * @param {string=} deviceId the identifier for the device
 * undefined treated as unset
 */
export function setVideoInput(deviceId) { videoInput = deviceId; }

/**
 * Create a new Matrix call for the browser.
 * @param {MatrixClient} client The client instance to use.
 * @param {string} roomId The room the call is in.
 * @param {Object?} options DEPRECATED optional options map.
 * @param {boolean} options.forceTURN DEPRECATED whether relay through TURN should be
 * forced. This option is deprecated - use opts.forceTURN when creating the matrix client
 * since it's only possible to set this option on outbound calls.
 * @return {MatrixCall} the call or null if the browser doesn't support calling.
 */
export function createNewMatrixCall(client, roomId, options) {
    const w = global.window;
    const doc = global.document;
    if (!w || !doc) {
        return null;
    }
    const webRtc = {};
    webRtc.isOpenWebRTC = function() {
        const scripts = doc.getElementById("script");
        if (!scripts || !scripts.length) {
            return false;
        }
        for (let i = 0; i &lt; scripts.length; i++) {
            if (scripts[i].src.indexOf("owr.js") > -1) {
                return true;
            }
        }
        return false;
    };
    const getUserMedia = (
        w.navigator.getUserMedia || w.navigator.webkitGetUserMedia ||
        w.navigator.mozGetUserMedia
    );
    if (getUserMedia) {
        webRtc.getUserMedia = function() {
            return getUserMedia.apply(w.navigator, arguments);
        };
    }

    const getDisplayMedia = (
        w.navigator.mediaDevices &amp;&amp; w.navigator.mediaDevices.getDisplayMedia ||
        w.navigator.getDisplayMedia
    );
    if (getDisplayMedia) {
        webRtc.getDisplayMedia = getDisplayMedia.bind(w.navigator.mediaDevices);
    }

    // Firefox throws on so little as accessing the RTCPeerConnection when operating in
    // a secure mode. There's some information at https://bugzilla.mozilla.org/show_bug.cgi?id=1542616
    // though the concern is that the browser throwing a SecurityError will brick the
    // client creation process.
    try {
        webRtc.RtcPeerConnection = (
            w.RTCPeerConnection || w.webkitRTCPeerConnection || w.mozRTCPeerConnection
        );
        webRtc.RtcSessionDescription = (
            w.RTCSessionDescription || w.webkitRTCSessionDescription ||
            w.mozRTCSessionDescription
        );
        webRtc.RtcIceCandidate = (
            w.RTCIceCandidate || w.webkitRTCIceCandidate || w.mozRTCIceCandidate
        );
        webRtc.vendor = null;
        if (w.mozRTCPeerConnection) {
            webRtc.vendor = "mozilla";
        } else if (w.webkitRTCPeerConnection) {
            webRtc.vendor = "webkit";
        } else if (w.RTCPeerConnection) {
            webRtc.vendor = "generic";
        }
    } catch (e) {
        logger.error("Failed to set up WebRTC object: possible browser interference?");
        logger.error(e);
        return null;
    }

    if (!webRtc.RtcIceCandidate || !webRtc.RtcSessionDescription ||
            !webRtc.RtcPeerConnection || !webRtc.getUserMedia) {
        return null; // WebRTC is not supported.
    }

    const optionsForceTURN = options ? options.forceTURN : false;

    const opts = {
        webRtc: webRtc,
        client: client,
        URL: w.URL,
        roomId: roomId,
        turnServers: client.getTurnServers(),
        // call level options
        forceTURN: client._forceTURN || optionsForceTURN,
    };
    return new MatrixCall(opts);
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a> on Wed Sep 23 2020 15:21:56 GMT+0100 (British Summer Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
