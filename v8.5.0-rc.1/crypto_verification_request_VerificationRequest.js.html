<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>crypto/verification/request/VerificationRequest.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccountDataClientAdapter.html">AccountDataClientAdapter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="AccountDataClientAdapter.html#getAccountData">getAccountData</a></li><li data-type='method' style='display: none;'><a href="AccountDataClientAdapter.html#getAccountDataFromServer">getAccountDataFromServer</a></li><li data-type='method' style='display: none;'><a href="AccountDataClientAdapter.html#setAccountData">setAccountData</a></li></ul></li><li><a href="Backend.html">Backend</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Backend.html#deleteOutgoingRoomKeyRequest">deleteOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="Backend.html#getAllOutgoingRoomKeyRequestsByState">getAllOutgoingRoomKeyRequestsByState</a></li><li data-type='method' style='display: none;'><a href="Backend.html#getOrAddOutgoingRoomKeyRequest">getOrAddOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="Backend.html#getOutgoingRoomKeyRequest">getOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="Backend.html#getOutgoingRoomKeyRequestByState">getOutgoingRoomKeyRequestByState</a></li><li data-type='method' style='display: none;'><a href="Backend.html#updateOutgoingRoomKeyRequest">updateOutgoingRoomKeyRequest</a></li></ul></li><li><a href="CrossSigningCallbacks.html">CrossSigningCallbacks</a></li><li><a href="crypto_DeviceList%250A%250AManages%2520the%2520list%2520of%2520other%2520users_%2520devicesmodule_-DeviceListUpdateSerialiser.html">DeviceListUpdateSerialiser</a><ul class='methods'><li data-type='method' style='display: none;'><a href="crypto_DeviceList%25250A%25250AManages%252520the%252520list%252520of%252520other%252520users_%252520devicesmodule_-DeviceListUpdateSerialiser.html#updateDevicesForUsers">updateDevicesForUsers</a></li></ul></li><li><a href="EncryptionSetupBuilder.html">EncryptionSetupBuilder</a><ul class='methods'><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#addCrossSigningKeys">addCrossSigningKeys</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#addKeySignature">addKeySignature</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#addSessionBackup">addSessionBackup</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#addSessionBackupPrivateKeyToCache">addSessionBackupPrivateKeyToCache</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#buildOperation">buildOperation</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#persist">persist</a></li><li data-type='method' style='display: none;'><a href="EncryptionSetupBuilder.html#setAccountData">setAccountData</a></li></ul></li><li><a href="EncryptionSetupOperation.html">EncryptionSetupOperation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="EncryptionSetupOperation.html#apply">apply</a></li></ul></li><li><a href="IndexedDBStoreWorker.html">IndexedDBStoreWorker</a><ul class='methods'><li data-type='method' style='display: none;'><a href="IndexedDBStoreWorker.html#onMessage">onMessage</a></li></ul></li><li><a href="InRoomChannel.html">InRoomChannel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="InRoomChannel.html#.canCreateRequest">canCreateRequest</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#.getEventType">getEventType</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#.getTransactionId">getTransactionId</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#.validateEvent">validateEvent</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#completeContent">completeContent</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#completedContentFromEvent">completedContentFromEvent</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#getTimestamp">getTimestamp</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#handleEvent">handleEvent</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#send">send</a></li><li data-type='method' style='display: none;'><a href="InRoomChannel.html#sendCompleted">sendCompleted</a></li></ul></li><li><a href="LocalIndexedDBStoreBackend.html">LocalIndexedDBStoreBackend</a><ul class='methods'><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_init">_init</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_loadAccountData">_loadAccountData</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_loadSyncData">_loadSyncData</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_persistAccountData">_persistAccountData</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_persistSyncData">_persistSyncData</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#_persistUserPresenceEvents">_persistUserPresenceEvents</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#clearDatabase">clearDatabase</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#connect">connect</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#getOutOfBandMembers">getOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#getSavedSync">getSavedSync</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#getUserPresenceEvents">getUserPresenceEvents</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#isNewlyCreated">isNewlyCreated</a></li><li data-type='method' style='display: none;'><a href="LocalIndexedDBStoreBackend.html#setOutOfBandMembers">setOutOfBandMembers</a></li></ul></li><li><a href="module-auto-discovery.AutoDiscovery.html">AutoDiscovery</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-auto-discovery.AutoDiscovery.html#.findClientConfig">findClientConfig</a></li><li data-type='method' style='display: none;'><a href="module-auto-discovery.AutoDiscovery.html#.fromDiscoveryConfig">fromDiscoveryConfig</a></li><li data-type='method' style='display: none;'><a href="module-auto-discovery.AutoDiscovery.html#.getRawClientConfig">getRawClientConfig</a></li></ul></li><li><a href="module-auto-discovery.AutoDiscovery.FAIL_ERROR.html">FAIL_ERROR</a></li><li><a href="module-auto-discovery.AutoDiscovery.FAIL_PROMPT.html">FAIL_PROMPT</a></li><li><a href="module-auto-discovery.AutoDiscovery.PROMPT.html">PROMPT</a></li><li><a href="module-auto-discovery.AutoDiscovery.SUCCESS.html">SUCCESS</a></li><li><a href="module-auto-discovery-DiscoveredClientConfig.html">DiscoveredClientConfig</a></li><li><a href="module-base-apis.MatrixBaseApis.html">MatrixBaseApis</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#acceptGroupInvite">acceptGroupInvite</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addPushRule">addPushRule</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addRoomToGroup">addRoomToGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addRoomToGroupSummary">addRoomToGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addThreePid">addThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addThreePidOnly">addThreePidOnly</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#addUserToGroupSummary">addUserToGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#bindThreePid">bindThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#bulkLookupThreePids">bulkLookupThreePids</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#cancelUpload">cancelUpload</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#claimOneTimeKeys">claimOneTimeKeys</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#createAlias">createAlias</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#createGroup">createGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#createRoom">createRoom</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deactivateAccount">deactivateAccount</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deleteAlias">deleteAlias</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deleteDevice">deleteDevice</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deleteMultipleDevices">deleteMultipleDevices</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deletePushRule">deletePushRule</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#deleteThreePid">deleteThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#downloadKeysForUsers">downloadKeysForUsers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#fetchRelations">fetchRelations</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#fetchRoomEvent">fetchRoomEvent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getAccessToken">getAccessToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getCasLoginUrl">getCasLoginUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getCurrentUploads">getCurrentUploads</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getDevices">getDevices</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getFallbackAuthUrl">getFallbackAuthUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupInvitedUsers">getGroupInvitedUsers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupProfile">getGroupProfile</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupRooms">getGroupRooms</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupSummary">getGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getGroupUsers">getGroupUsers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getHomeserverUrl">getHomeserverUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getIdentityAccount">getIdentityAccount</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getIdentityHashDetails">getIdentityHashDetails</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getIdentityServerUrl">getIdentityServerUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getJoinedGroups">getJoinedGroups</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getJoinedRoomMembers">getJoinedRoomMembers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getJoinedRooms">getJoinedRooms</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getKeyChanges">getKeyChanges</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getProfileInfo">getProfileInfo</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getPublicisedGroups">getPublicisedGroups</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getPushers">getPushers</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getPushRules">getPushRules</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getRoomDirectoryVisibility">getRoomDirectoryVisibility</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getRoomIdForAlias">getRoomIdForAlias</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getSsoLoginUrl">getSsoLoginUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getStateEvent">getStateEvent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getThirdpartyLocation">getThirdpartyLocation</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getThirdpartyProtocols">getThirdpartyProtocols</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getThirdpartyUser">getThirdpartyUser</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#getThreePids">getThreePids</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#identityHashedLookup">identityHashedLookup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#inviteUserToGroup">inviteUserToGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#isLoggedIn">isLoggedIn</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#isUsernameAvailable">isUsernameAvailable</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#joinGroup">joinGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#leaveGroup">leaveGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#login">login</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#loginFlows">loginFlows</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#loginWithPassword">loginWithPassword</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#loginWithSAML2">loginWithSAML2</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#loginWithToken">loginWithToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#logout">logout</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#lookupThreePid">lookupThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#makeTxnId">makeTxnId</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#members">members</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#publicRooms">publicRooms</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#register">register</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#registerGuest">registerGuest</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#registerRequest">registerRequest</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#registerWithIdentityServer">registerWithIdentityServer</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#removeRoomFromGroup">removeRoomFromGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#removeRoomFromGroupSummary">removeRoomFromGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#removeUserFromGroup">removeUserFromGroup</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#removeUserFromGroupSummary">removeUserFromGroupSummary</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#reportEvent">reportEvent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#requestEmailToken">requestEmailToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#requestMsisdnToken">requestMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#resolveRoomAlias">resolveRoomAlias</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#roomInitialSync">roomInitialSync</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#roomState">roomState</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#search">search</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#searchUserDirectory">searchUserDirectory</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#sendStateEvent">sendStateEvent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#sendToDevice">sendToDevice</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setDeviceDetails">setDeviceDetails</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setGroupJoinPolicy">setGroupJoinPolicy</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setGroupProfile">setGroupProfile</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setGroupPublicity">setGroupPublicity</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setIdentityServerUrl">setIdentityServerUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setPassword">setPassword</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setPusher">setPusher</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setPushRuleActions">setPushRuleActions</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setPushRuleEnabled">setPushRuleEnabled</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setRoomDirectoryVisibility">setRoomDirectoryVisibility</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setRoomDirectoryVisibilityAppService">setRoomDirectoryVisibilityAppService</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#setRoomReadMarkersHttpRequest">setRoomReadMarkersHttpRequest</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#submitMsisdnToken">submitMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#submitMsisdnTokenOtherUrl">submitMsisdnTokenOtherUrl</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#unbindThreePid">unbindThreePid</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#unstableGetLocalAliases">unstableGetLocalAliases</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#updateGroupRoomVisibility">updateGroupRoomVisibility</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#upgradeRoom">upgradeRoom</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#uploadContent">uploadContent</a></li><li data-type='method' style='display: none;'><a href="module-base-apis.MatrixBaseApis.html#uploadKeysRequest">uploadKeysRequest</a></li></ul></li><li><a href="module-client.MatrixClient.html">MatrixClient</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_createMessagesRequest">_createMessagesRequest</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_requestTokenFromEndpoint">_requestTokenFromEndpoint</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_sendCompleteEvent">_sendCompleteEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_storeClientOptions">_storeClientOptions</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#_unstable_setStatusMessage">_unstable_setStatusMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#addListener">addListener</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#backPaginateRoomEventsSearch">backPaginateRoomEventsSearch</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#ban">ban</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#beginKeyVerification">beginKeyVerification</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#cancelAndResendEventRoomKeyRequest">cancelAndResendEventRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#cancelPendingEvent">cancelPendingEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#checkKeyBackup">checkKeyBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#clearStores">clearStores</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#createFilter">createFilter</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#createKeyBackupVersion">createKeyBackupVersion</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#deactivateSynapseUser">deactivateSynapseUser</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#deleteRoomTag">deleteRoomTag</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#disableKeyBackup">disableKeyBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerAcceptIdentityAccessToken">doesServerAcceptIdentityAccessToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerForceEncryptionForPreset">doesServerForceEncryptionForPreset</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerRequireIdServerParam">doesServerRequireIdServerParam</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerSupportLazyLoading">doesServerSupportLazyLoading</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerSupportSeparateAddAndBind">doesServerSupportSeparateAddAndBind</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#doesServerSupportUnstableFeature">doesServerSupportUnstableFeature</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#downloadKeys">downloadKeys</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#emit">emit</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#enableKeyBackup">enableKeyBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#exportRoomKeys">exportRoomKeys</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#findVerificationRequestDMInProgress">findVerificationRequestDMInProgress</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#flagAllGroupSessionsForBackup">flagAllGroupSessionsForBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#forceDiscardSession">forceDiscardSession</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#forget">forget</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#generateClientSecret">generateClientSecret</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getAccountData">getAccountData</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getAccountDataFromServer">getAccountDataFromServer</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getCanResetTimelineCallback">getCanResetTimelineCallback</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getCapabilities">getCapabilities</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getCrossSigningCacheCallbacks">getCrossSigningCacheCallbacks</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getDeviceCurve25519Key">getDeviceCurve25519Key</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getDeviceEd25519Key">getDeviceEd25519Key</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getDeviceId">getDeviceId</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getDomain">getDomain</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getEventMapper">getEventMapper</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getEventSenderDeviceInfo">getEventSenderDeviceInfo</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getEventTimeline">getEventTimeline</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getGlobalBlacklistUnverifiedDevices">getGlobalBlacklistUnverifiedDevices</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getGlobalErrorOnUnknownDevices">getGlobalErrorOnUnknownDevices</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getGroup">getGroup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getGroups">getGroups</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getIgnoredUsers">getIgnoredUsers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getKeyBackupEnabled">getKeyBackupEnabled</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getKeyBackupVersion">getKeyBackupVersion</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getMediaConfig">getMediaConfig</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getNotifTimelineSet">getNotifTimelineSet</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getOpenIdToken">getOpenIdToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getOrCreateFilter">getOrCreateFilter</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getPushActionsForEvent">getPushActionsForEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRoom">getRoom</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRoomPushRule">getRoomPushRule</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRooms">getRooms</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRoomTags">getRoomTags</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getRoomUpgradeHistory">getRoomUpgradeHistory</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getScheduler">getScheduler</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getStoredDevice">getStoredDevice</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getStoredDevicesForUser">getStoredDevicesForUser</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getSyncState">getSyncState</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getSyncStateData">getSyncStateData</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getTurnServers">getTurnServers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUrlPreview">getUrlPreview</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUser">getUser</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUserId">getUserId</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUserIdLocalpart">getUserIdLocalpart</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getUsers">getUsers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getVerificationRequestsToDeviceInProgress">getVerificationRequestsToDeviceInProgress</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getVersions">getVersions</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#getVisibleRooms">getVisibleRooms</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#hasLazyLoadMembersEnabled">hasLazyLoadMembersEnabled</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#importRoomKeys">importRoomKeys</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#initCrypto">initCrypto</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#invite">invite</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#inviteByEmail">inviteByEmail</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#inviteByThreePid">inviteByThreePid</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isCryptoEnabled">isCryptoEnabled</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isEventSenderVerified">isEventSenderVerified</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isFallbackICEServerAllowed">isFallbackICEServerAllowed</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isGuest">isGuest</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isInitialSyncComplete">isInitialSyncComplete</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isKeyBackupKeyStored">isKeyBackupKeyStored</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isKeyBackupTrusted">isKeyBackupTrusted</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isRoomEncrypted">isRoomEncrypted</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isSynapseAdministrator">isSynapseAdministrator</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isUserIgnored">isUserIgnored</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#isVersionSupported">isVersionSupported</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#joinRoom">joinRoom</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#keyBackupKeyFromPassword">keyBackupKeyFromPassword</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#keyBackupKeyFromRecoveryKey">keyBackupKeyFromRecoveryKey</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#kick">kick</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#leave">leave</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#leaveRoomChain">leaveRoomChain</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#mxcUrlToHttp">mxcUrlToHttp</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#on">on</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#once">once</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#paginateEventTimeline">paginateEventTimeline</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#peekInRoom">peekInRoom</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#prepareKeyBackupVersion">prepareKeyBackupVersion</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#redactEvent">redactEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#rehydrateDevice">rehydrateDevice</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#relations">relations</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#removeAllListeners">removeAllListeners</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#removeListener">removeListener</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestAdd3pidEmailToken">requestAdd3pidEmailToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestAdd3pidMsisdnToken">requestAdd3pidMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestPasswordEmailToken">requestPasswordEmailToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestPasswordMsisdnToken">requestPasswordMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestRegisterEmailToken">requestRegisterEmailToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestRegisterMsisdnToken">requestRegisterMsisdnToken</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestVerification">requestVerification</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#requestVerificationDM">requestVerificationDM</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#resendEvent">resendEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#resetNotifTimelineSet">resetNotifTimelineSet</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#restoreKeyBackupWithCache">restoreKeyBackupWithCache</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#restoreKeyBackupWithPassword">restoreKeyBackupWithPassword</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#restoreKeyBackupWithRecoveryKey">restoreKeyBackupWithRecoveryKey</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#restoreKeyBackupWithSecretStorage">restoreKeyBackupWithSecretStorage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#retryImmediately">retryImmediately</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#scheduleAllGroupSessionsForBackup">scheduleAllGroupSessionsForBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#scrollback">scrollback</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#searchMessageText">searchMessageText</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#searchRoomEvents">searchRoomEvents</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendEmoteMessage">sendEmoteMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendEvent">sendEvent</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendHtmlEmote">sendHtmlEmote</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendHtmlMessage">sendHtmlMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendHtmlNotice">sendHtmlNotice</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendImageMessage">sendImageMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendKeyBackup">sendKeyBackup</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendMessage">sendMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendNotice">sendNotice</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendReadReceipt">sendReadReceipt</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendReceipt">sendReceipt</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendStickerMessage">sendStickerMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendTextMessage">sendTextMessage</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#sendTyping">sendTyping</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setAccountData">setAccountData</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setAvatarUrl">setAvatarUrl</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setCanResetTimelineCallback">setCanResetTimelineCallback</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDehydrationKey">setDehydrationKey</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDeviceBlocked">setDeviceBlocked</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDeviceKnown">setDeviceKnown</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDeviceVerified">setDeviceVerified</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setDisplayName">setDisplayName</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setFallbackICEServerAllowed">setFallbackICEServerAllowed</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setForceTURN">setForceTURN</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setGlobalBlacklistUnverifiedDevices">setGlobalBlacklistUnverifiedDevices</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setGlobalErrorOnUnknownDevices">setGlobalErrorOnUnknownDevices</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setGuest">setGuest</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setGuestAccess">setGuestAccess</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setIgnoredUsers">setIgnoredUsers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setMaxListeners">setMaxListeners</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setNotifTimelineSet">setNotifTimelineSet</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setPowerLevel">setPowerLevel</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setPresence">setPresence</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setProfileInfo">setProfileInfo</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomAccountData">setRoomAccountData</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomEncryption">setRoomEncryption</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomMutePushRule">setRoomMutePushRule</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomName">setRoomName</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomReadMarkers">setRoomReadMarkers</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomTag">setRoomTag</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#setRoomTopic">setRoomTopic</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#startClient">startClient</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#stopClient">stopClient</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#stopPeeking">stopPeeking</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#supportsVoip">supportsVoip</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#syncLeftRooms">syncLeftRooms</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#turnServer">turnServer</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#unban">unban</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#uploadKeys">uploadKeys</a></li><li data-type='method' style='display: none;'><a href="module-client.MatrixClient.html#whoisSynapseUser">whoisSynapseUser</a></li></ul></li><li><a href="module-crypto.html">crypto</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto.html#.verificationMethods">verificationMethods</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto.html#.fixBackupKey">fixBackupKey</a></li></ul></li><li><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html">DecryptionAlgorithm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#decryptEvent">decryptEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#hasKeysForKeyRequest">hasKeysForKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#importRoomKey">importRoomKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#onRoomKeyEvent">onRoomKeyEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#retryDecryptionFromSender">retryDecryptionFromSender</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.DecryptionAlgorithm.html#shareKeysWithDevice">shareKeysWithDevice</a></li></ul></li><li><a href="module-crypto_algorithms_base.DecryptionError.html">DecryptionError</a></li><li><a href="module-crypto_algorithms_base.EncryptionAlgorithm.html">EncryptionAlgorithm</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.EncryptionAlgorithm.html#.encryptMessage">encryptMessage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.EncryptionAlgorithm.html#onRoomMembership">onRoomMembership</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.EncryptionAlgorithm.html#prepareToEncrypt">prepareToEncrypt</a></li></ul></li><li><a href="module-crypto_algorithms_base.UnknownDeviceError.html">UnknownDeviceError</a></li><li><a href="module-crypto_algorithms_megolm-MegolmDecryption.html">MegolmDecryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#decryptEvent">decryptEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#hasKeysForKeyRequest">hasKeysForKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#importRoomKey">importRoomKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#onRoomKeyEvent">onRoomKeyEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#onRoomKeyWithheldEvent">onRoomKeyWithheldEvent</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmDecryption.html#shareKeysWithDevice">shareKeysWithDevice</a></li></ul></li><li><a href="module-crypto_algorithms_megolm-MegolmEncryption.html">MegolmEncryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_checkForUnknownDevices">_checkForUnknownDevices</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_getDevicesInRoom">_getDevicesInRoom</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_notifyBlockedDevices">_notifyBlockedDevices</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_notifyFailedOlmDevices">_notifyFailedOlmDevices</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#_removeUnknownDevices">_removeUnknownDevices</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#encryptMessage">encryptMessage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#forceDiscardSession">forceDiscardSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#prepareToEncrypt">prepareToEncrypt</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_megolm-MegolmEncryption.html#reshareKeyWithDevice">reshareKeyWithDevice</a></li></ul></li><li><a href="module-crypto_algorithms_olm-OlmDecryption.html">OlmDecryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_olm-OlmDecryption.html#_decryptMessage">_decryptMessage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_olm-OlmDecryption.html#decryptEvent">decryptEvent</a></li></ul></li><li><a href="module-crypto_algorithms_olm-OlmEncryption.html">OlmEncryption</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_olm-OlmEncryption.html#encryptMessage">encryptMessage</a></li></ul></li><li><a href="module-crypto_CrossSigning.CrossSigningInfo.html">CrossSigningInfo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#.getFromSecretStorage">getFromSecretStorage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#.storeInSecretStorage">storeInSecretStorage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#checkDeviceTrust">checkDeviceTrust</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#checkUserTrust">checkUserTrust</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#clearKeys">clearKeys</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#getCacheCallbacks">getCacheCallbacks</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#getCrossSigningKey">getCrossSigningKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#getCrossSigningKeysFromCache">getCrossSigningKeysFromCache</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#getId">getId</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#isStoredInKeyCache">isStoredInKeyCache</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#isStoredInSecretStorage">isStoredInSecretStorage</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.CrossSigningInfo.html#resetKeys">resetKeys</a></li></ul></li><li><a href="module-crypto_CrossSigning.DeviceTrustLevel.html">DeviceTrustLevel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.DeviceTrustLevel.html#isCrossSigningVerified">isCrossSigningVerified</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.DeviceTrustLevel.html#isLocallyVerified">isLocallyVerified</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.DeviceTrustLevel.html#isTofu">isTofu</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.DeviceTrustLevel.html#isVerified">isVerified</a></li></ul></li><li><a href="module-crypto_CrossSigning.UserTrustLevel.html">UserTrustLevel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.UserTrustLevel.html#isCrossSigningVerified">isCrossSigningVerified</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.UserTrustLevel.html#isTofu">isTofu</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.UserTrustLevel.html#isVerified">isVerified</a></li><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.UserTrustLevel.html#wasCrossSigningVerified">wasCrossSigningVerified</a></li></ul></li><li><a href="module-crypto_deviceinfo.html">crypto/deviceinfo</a></li><li><a href="module-crypto_DeviceList.html">crypto/DeviceList</a></li><li><a href="module-crypto_OlmDevice.html">crypto/OlmDevice</a></li><li><a href="module-crypto_RoomList.html">crypto/RoomList</a></li><li><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html">IndexedDBCryptoStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#addEndToEndInboundGroupSession">addEndToEndInboundGroupSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#countEndToEndSessions">countEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#countSessionsNeedingBackup">countSessionsNeedingBackup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#deleteAllData">deleteAllData</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#deleteOutgoingRoomKeyRequest">deleteOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#doTxn">doTxn</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getAllEndToEndInboundGroupSessions">getAllEndToEndInboundGroupSessions</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getAllEndToEndSessions">getAllEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getAllOutgoingRoomKeyRequestsByState">getAllOutgoingRoomKeyRequestsByState</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getCrossSigningKeys">getCrossSigningKeys</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndDeviceData">getEndToEndDeviceData</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndInboundGroupSession">getEndToEndInboundGroupSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndRooms">getEndToEndRooms</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndSession">getEndToEndSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getEndToEndSessions">getEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getOrAddOutgoingRoomKeyRequest">getOrAddOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getOutgoingRoomKeyRequest">getOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getOutgoingRoomKeyRequestByState">getOutgoingRoomKeyRequestByState</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getOutgoingRoomKeyRequestsByTarget">getOutgoingRoomKeyRequestsByTarget</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getSecretStorePrivateKey">getSecretStorePrivateKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#getSessionsNeedingBackup">getSessionsNeedingBackup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#markSessionsNeedingBackup">markSessionsNeedingBackup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeAccount">storeAccount</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeCrossSigningKeys">storeCrossSigningKeys</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeEndToEndDeviceData">storeEndToEndDeviceData</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeEndToEndInboundGroupSession">storeEndToEndInboundGroupSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeEndToEndRoom">storeEndToEndRoom</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeEndToEndSession">storeEndToEndSession</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#storeSecretStorePrivateKey">storeSecretStorePrivateKey</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#unmarkSessionsNeedingBackup">unmarkSessionsNeedingBackup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_indexeddb-crypto-store.IndexedDBCryptoStore.html#updateOutgoingRoomKeyRequest">updateOutgoingRoomKeyRequest</a></li></ul></li><li><a href="module-crypto_store_localStorage-crypto-store.LocalStorageCryptoStore.html">LocalStorageCryptoStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_store_localStorage-crypto-store.LocalStorageCryptoStore.html#deleteAllData">deleteAllData</a></li></ul></li><li><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html">MemoryCryptoStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#_getOutgoingRoomKeyRequest">_getOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#deleteAllData">deleteAllData</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#deleteOutgoingRoomKeyRequest">deleteOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#getAllOutgoingRoomKeyRequestsByState">getAllOutgoingRoomKeyRequestsByState</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#getOrAddOutgoingRoomKeyRequest">getOrAddOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#getOutgoingRoomKeyRequest">getOutgoingRoomKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#getOutgoingRoomKeyRequestByState">getOutgoingRoomKeyRequestByState</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-crypto_store_memory-crypto-store.MemoryCryptoStore.html#updateOutgoingRoomKeyRequest">updateOutgoingRoomKeyRequest</a></li></ul></li><li><a href="module-crypto_verification_Base.VerificationBase.html">VerificationBase</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_verification_Base.VerificationBase.html#verify">verify</a></li></ul></li><li><a href="module-crypto_verification_IllegalMethod-crypto_verification_IllegalMethod_IllegalMethod.html">crypto/verification/IllegalMethod/IllegalMethod</a></li><li><a href="module-crypto_verification_QRCode-crypto_verification_QRCode_ReciprocateQRCode.html">crypto/verification/QRCode/ReciprocateQRCode</a></li><li><a href="module-crypto_verification_SAS.html">crypto/verification/SAS</a></li><li><a href="module-crypto-IncomingRoomKeyRequest.html">IncomingRoomKeyRequest</a></li><li><a href="module-crypto-IncomingRoomKeyRequestCancellation.html">IncomingRoomKeyRequestCancellation</a></li><li><a href="module-filter.Filter.html">Filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#.fromJson">fromJson</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#filterRoomTimeline">filterRoomTimeline</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#getDefinition">getDefinition</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#getFilterId">getFilterId</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#getRoomTimelineFilterComponent">getRoomTimelineFilterComponent</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#setDefinition">setDefinition</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#setIncludeLeaveRooms">setIncludeLeaveRooms</a></li><li data-type='method' style='display: none;'><a href="module-filter.Filter.html#setTimelineLimit">setTimelineLimit</a></li></ul></li><li><a href="module-filter-component.FilterComponent.html">FilterComponent</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-filter-component.FilterComponent.html#_checkFields">_checkFields</a></li><li data-type='method' style='display: none;'><a href="module-filter-component.FilterComponent.html#check">check</a></li><li data-type='method' style='display: none;'><a href="module-filter-component.FilterComponent.html#filter">filter</a></li><li data-type='method' style='display: none;'><a href="module-filter-component.FilterComponent.html#limit">limit</a></li></ul></li><li><a href="module-http-api.ConnectionError.html">ConnectionError</a></li><li><a href="module-http-api.MatrixError.html">MatrixError</a></li><li><a href="module-http-api.MatrixHttpApi.html">MatrixHttpApi</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#authedRequest">authedRequest</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#getContentUri">getContentUri</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#getUrl">getUrl</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#request">request</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#requestOtherUrl">requestOtherUrl</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#setIdBaseUrl">setIdBaseUrl</a></li><li data-type='method' style='display: none;'><a href="module-http-api.MatrixHttpApi.html#uploadContent">uploadContent</a></li></ul></li><li><a href="module-interactive-auth.html">interactive-auth</a></li><li><a href="module-models_event.MatrixEvent.html">MatrixEvent</a></li><li><a href="module-models_event-context.EventContext.html">EventContext</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#addEvents">addEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#getEvent">getEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#getOurEventIndex">getOurEventIndex</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#getPaginateToken">getPaginateToken</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#getTimeline">getTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-context.EventContext.html#setPaginateToken">setPaginateToken</a></li></ul></li><li><a href="module-models_event-timeline.EventTimeline.html">EventTimeline</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#.BACKWARDS">BACKWARDS</a></li><li data-type='member' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#.FORWARDS">FORWARDS</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#.setEventMetadata">setEventMetadata</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#addEvent">addEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#fork">fork</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#forkLive">forkLive</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getBaseIndex">getBaseIndex</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getEvents">getEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getNeighbouringTimeline">getNeighbouringTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getPaginationToken">getPaginationToken</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getRoomId">getRoomId</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getState">getState</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#getTimelineSet">getTimelineSet</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#initialiseState">initialiseState</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#removeEvent">removeEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#setNeighbouringTimeline">setNeighbouringTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#setPaginationToken">setPaginationToken</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline.EventTimeline.html#toString">toString</a></li></ul></li><li><a href="module-models_event-timeline-set.EventTimelineSet.html">EventTimelineSet</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#addEventsToTimeline">addEventsToTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#addEventToTimeline">addEventToTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#addLiveEvent">addLiveEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#addTimeline">addTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#aggregateRelations">aggregateRelations</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#compareEventOrdering">compareEventOrdering</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#eventIdToTimeline">eventIdToTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#findEventById">findEventById</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getLiveTimeline">getLiveTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getPendingEvents">getPendingEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getRelationsForEvent">getRelationsForEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getTimelineForEvent">getTimelineForEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#getTimelines">getTimelines</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#handleRemoteEcho">handleRemoteEcho</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#removeEvent">removeEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#replaceEventId">replaceEventId</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#resetLiveTimeline">resetLiveTimeline</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#setFilter">setFilter</a></li><li data-type='method' style='display: none;'><a href="module-models_event-timeline-set.EventTimelineSet.html#setRelationsTarget">setRelationsTarget</a></li></ul></li><li><a href="module-models_room.html">models/room</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_room.html#~calculateRoomName">calculateRoomName</a></li></ul></li><li><a href="module-models_room-member.html">models/room-member</a></li><li><a href="module-models_room-state.RoomState.html">RoomState</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_getOrCreateMember">_getOrCreateMember</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_hasSufficientPowerLevelFor">_hasSufficientPowerLevelFor</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_maySendEventOfType">_maySendEventOfType</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_setOutOfBandMember">_setOutOfBandMember</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#_updateModifiedTime">_updateModifiedTime</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#clearOutOfBandMembers">clearOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#clone">clone</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getInvitedMemberCount">getInvitedMemberCount</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getInviteForThreePidToken">getInviteForThreePidToken</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getJoinedMemberCount">getJoinedMemberCount</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getLastModifiedTime">getLastModifiedTime</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getMember">getMember</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getMembers">getMembers</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getMembersExcept">getMembersExcept</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getSentinelMember">getSentinelMember</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getStateEvents">getStateEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#getUserIdsWithDisplayName">getUserIdsWithDisplayName</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#markOutOfBandMembersFailed">markOutOfBandMembersFailed</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#markOutOfBandMembersStarted">markOutOfBandMembersStarted</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#mayClientSendStateEvent">mayClientSendStateEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#maySendEvent">maySendEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#maySendMessage">maySendMessage</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#maySendRedactionForEvent">maySendRedactionForEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#maySendStateEvent">maySendStateEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#mayTriggerNotifOfType">mayTriggerNotifOfType</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#needsOutOfBandMembers">needsOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setInvitedMemberCount">setInvitedMemberCount</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setJoinedMemberCount">setJoinedMemberCount</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setOutOfBandMembers">setOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setStateEvents">setStateEvents</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setTypingEvent">setTypingEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_room-state.RoomState.html#setUnknownStateEvents">setUnknownStateEvents</a></li></ul></li><li><a href="module-models_room-summary.RoomSummary.html">RoomSummary</a></li><li><a href="module-models_search-result.SearchResult.html">SearchResult</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_search-result.SearchResult.html#.fromJson">fromJson</a></li></ul></li><li><a href="module-models_user.User.html">User</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_user.User.html#_unstable_updateStatusMessage">_unstable_updateStatusMessage</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#_updateModifiedTime">_updateModifiedTime</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#getLastActiveTs">getLastActiveTs</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#getLastModifiedTime">getLastModifiedTime</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#setAvatarUrl">setAvatarUrl</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#setDisplayName">setDisplayName</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#setPresenceEvent">setPresenceEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_user.User.html#setRawDisplayName">setRawDisplayName</a></li></ul></li><li><a href="module-pushprocessor.PushProcessor.html">PushProcessor</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-pushprocessor.PushProcessor.html#.actionListToActionsObject">actionListToActionsObject</a></li><li data-type='method' style='display: none;'><a href="module-pushprocessor.PushProcessor.html#.rewriteDefaultRules">rewriteDefaultRules</a></li><li data-type='method' style='display: none;'><a href="module-pushprocessor.PushProcessor.html#actionsForEvent">actionsForEvent</a></li><li data-type='method' style='display: none;'><a href="module-pushprocessor.PushProcessor.html#getPushRuleById">getPushRuleById</a></li></ul></li><li><a href="module-scheduler.MatrixScheduler.html">MatrixScheduler</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#.QUEUE_MESSAGES">QUEUE_MESSAGES</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#.RETRY_BACKOFF_RATELIMIT">RETRY_BACKOFF_RATELIMIT</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#getQueueForEvent">getQueueForEvent</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#queueEvent">queueEvent</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#removeEventFromQueue">removeEventFromQueue</a></li><li data-type='method' style='display: none;'><a href="module-scheduler.MatrixScheduler.html#setProcessFunction">setProcessFunction</a></li></ul></li><li><a href="module-store_indexeddb.IndexedDBStore.html">IndexedDBStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_indexeddb.IndexedDBStore.html#save">save</a></li><li data-type='method' style='display: none;'><a href="module-store_indexeddb.IndexedDBStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-store_indexeddb.IndexedDBStore.html#wantsSave">wantsSave</a></li></ul></li><li><a href="module-store_memory.MemoryStore.html">MemoryStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#_onRoomMember">_onRoomMember</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#deleteAllData">deleteAllData</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getAccountData">getAccountData</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getFilterIdByName">getFilterIdByName</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getGroup">getGroup</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getGroups">getGroups</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getOutOfBandMembers">getOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getRoom">getRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getRooms">getRooms</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getRoomSummaries">getRoomSummaries</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getSavedSync">getSavedSync</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getSavedSyncToken">getSavedSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getSyncToken">getSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getUser">getUser</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#getUsers">getUsers</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#isNewlyCreated">isNewlyCreated</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#removeRoom">removeRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#save">save</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#scrollback">scrollback</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#setFilterIdByName">setFilterIdByName</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#setOutOfBandMembers">setOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#setSyncData">setSyncData</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#setSyncToken">setSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeAccountDataEvents">storeAccountDataEvents</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeEvents">storeEvents</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeFilter">storeFilter</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeGroup">storeGroup</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeRoom">storeRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#storeUser">storeUser</a></li><li data-type='method' style='display: none;'><a href="module-store_memory.MemoryStore.html#wantsSave">wantsSave</a></li></ul></li><li><a href="module-store_session_webstorage.WebStorageSessionStore.html">WebStorageSessionStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getAllEndToEndDevices">getAllEndToEndDevices</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getAllEndToEndInboundGroupSessionKeys">getAllEndToEndInboundGroupSessionKeys</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getAllEndToEndRooms">getAllEndToEndRooms</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getAllEndToEndSessions">getAllEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getEndToEndAccount">getEndToEndAccount</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getEndToEndDeviceSyncToken">getEndToEndDeviceSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#getEndToEndSessions">getEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#removeAllEndToEndSessions">removeAllEndToEndSessions</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#removeEndToEndAccount">removeEndToEndAccount</a></li><li data-type='method' style='display: none;'><a href="module-store_session_webstorage.WebStorageSessionStore.html#removeEndToEndDeviceData">removeEndToEndDeviceData</a></li></ul></li><li><a href="module-store_stub.StubStore.html">StubStore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#deleteAllData">deleteAllData</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getAccountData">getAccountData</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getFilter">getFilter</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getFilterIdByName">getFilterIdByName</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getGroup">getGroup</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getGroups">getGroups</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getRoom">getRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getRooms">getRooms</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getRoomSummaries">getRoomSummaries</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getSavedSync">getSavedSync</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getSavedSyncToken">getSavedSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getSyncToken">getSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getUser">getUser</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#getUsers">getUsers</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#isNewlyCreated">isNewlyCreated</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#removeRoom">removeRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#save">save</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#scrollback">scrollback</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#setFilterIdByName">setFilterIdByName</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#setSyncData">setSyncData</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#setSyncToken">setSyncToken</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#startup">startup</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeAccountDataEvents">storeAccountDataEvents</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeEvents">storeEvents</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeFilter">storeFilter</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeGroup">storeGroup</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeRoom">storeRoom</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#storeUser">storeUser</a></li><li data-type='method' style='display: none;'><a href="module-store_stub.StubStore.html#wantsSave">wantsSave</a></li></ul></li><li><a href="module-sync-accumulator.SyncAccumulator.html">SyncAccumulator</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-sync-accumulator.SyncAccumulator.html#_accumulateGroups">_accumulateGroups</a></li><li data-type='method' style='display: none;'><a href="module-sync-accumulator.SyncAccumulator.html#_accumulateRooms">_accumulateRooms</a></li><li data-type='method' style='display: none;'><a href="module-sync-accumulator.SyncAccumulator.html#getJSON">getJSON</a></li></ul></li><li><a href="module-timeline-window.TimelineWindow.html">TimelineWindow</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#canPaginate">canPaginate</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#extend">extend</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#getEvents">getEvents</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#getTimelineIndex">getTimelineIndex</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#load">load</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#paginate">paginate</a></li><li data-type='method' style='display: none;'><a href="module-timeline-window.TimelineWindow.html#unpaginate">unpaginate</a></li></ul></li><li><a href="module-webrtc_call.MatrixCall.html">MatrixCall</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#.CALL_TIMEOUT_MS">CALL_TIMEOUT_MS</a></li><li data-type='member' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#.ERR_LOCAL_OFFER_FAILED">ERR_LOCAL_OFFER_FAILED</a></li><li data-type='member' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#.ERR_NO_USER_MEDIA">ERR_NO_USER_MEDIA</a></li><li data-type='member' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#.FALLBACK_ICE_SERVER">FALLBACK_ICE_SERVER</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_gotRemoteIceCandidate">_gotRemoteIceCandidate</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_initWithHangup">_initWithHangup</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_initWithInvite">_initWithInvite</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_onAnsweredElsewhere">_onAnsweredElsewhere</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_onHangupReceived">_onHangupReceived</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_receivedAnswer">_receivedAnswer</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#_replacedBy">_replacedBy</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#answer">answer</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#assignElement">assignElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#getLocalVideoElement">getLocalVideoElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#getRemoteAudioElement">getRemoteAudioElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#getRemoteVideoElement">getRemoteVideoElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#hangup">hangup</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#isLocalVideoMuted">isLocalVideoMuted</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#isMicrophoneMuted">isMicrophoneMuted</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#pauseElement">pauseElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#placeScreenSharingCall">placeScreenSharingCall</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#placeVideoCall">placeVideoCall</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#placeVoiceCall">placeVoiceCall</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#playElement">playElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setLocalVideoElement">setLocalVideoElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setLocalVideoMuted">setLocalVideoMuted</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setMicrophoneMuted">setMicrophoneMuted</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setRemoteAudioElement">setRemoteAudioElement</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.MatrixCall.html#setRemoteVideoElement">setRemoteVideoElement</a></li></ul></li><li><a href="Relations.html">Relations</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Relations.html#_removeEvent">_removeEvent</a></li><li data-type='method' style='display: none;'><a href="Relations.html#addEvent">addEvent</a></li><li data-type='method' style='display: none;'><a href="Relations.html#getAnnotationsBySender">getAnnotationsBySender</a></li><li data-type='method' style='display: none;'><a href="Relations.html#getLastReplacement">getLastReplacement</a></li><li data-type='method' style='display: none;'><a href="Relations.html#getRelations">getRelations</a></li><li data-type='method' style='display: none;'><a href="Relations.html#getSortedAnnotationsByKey">getSortedAnnotationsByKey</a></li></ul></li><li><a href="RemoteIndexedDBStoreBackend.html">RemoteIndexedDBStoreBackend</a><ul class='methods'><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#clearDatabase">clearDatabase</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#connect">connect</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#getOutOfBandMembers">getOutOfBandMembers</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#getSavedSync">getSavedSync</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#getUserPresenceEvents">getUserPresenceEvents</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#isNewlyCreated">isNewlyCreated</a></li><li data-type='method' style='display: none;'><a href="RemoteIndexedDBStoreBackend.html#setOutOfBandMembers">setOutOfBandMembers</a></li></ul></li><li><a href="SSSSCryptoCallbacks.html">SSSSCryptoCallbacks</a></li><li><a href="SyncApi.html">SyncApi</a><ul class='methods'><li data-type='method' style='display: none;'><a href="SyncApi.html#_getGuestFilter">_getGuestFilter</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_mapSyncEventsFormat">_mapSyncEventsFormat</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_mapSyncResponseToRoomArray">_mapSyncResponseToRoomArray</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_onOnline">_onOnline</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_peekPoll">_peekPoll</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_pokeKeepAlive">_pokeKeepAlive</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_processEventsForNotifs">_processEventsForNotifs</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_processGroupSyncEntry">_processGroupSyncEntry</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_processRoomEvents">_processRoomEvents</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_processSyncResponse">_processSyncResponse</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_resolveInvites">_resolveInvites</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_startKeepAlives">_startKeepAlives</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_sync">_sync</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_syncFromCache">_syncFromCache</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_updateSyncState">_updateSyncState</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#_wasLazyLoadingToggled">_wasLazyLoadingToggled</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#createGroup">createGroup</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#createRoom">createRoom</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#getSyncState">getSyncState</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#getSyncStateData">getSyncStateData</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#peek">peek</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#retryImmediately">retryImmediately</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#stop">stop</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#stopPeeking">stopPeeking</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#sync">sync</a></li><li data-type='method' style='display: none;'><a href="SyncApi.html#syncLeftRooms">syncLeftRooms</a></li></ul></li><li><a href="ToDeviceChannel.html">ToDeviceChannel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#.canCreateRequest">canCreateRequest</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#.getTransactionId">getTransactionId</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#.makeTransactionId">makeTransactionId</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#.validateEvent">validateEvent</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#completeContent">completeContent</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#completedContentFromEvent">completedContentFromEvent</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#getTimestamp">getTimestamp</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#handleEvent">handleEvent</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#send">send</a></li><li data-type='method' style='display: none;'><a href="ToDeviceChannel.html#sendCompleted">sendCompleted</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="crypto_DeviceList%250A%250AManages%2520the%2520list%2520of%2520other%2520users_%2520devicesmodule_.html">crypto/DeviceList

Manages the list of other users' devices</a></li><li><a href="crypto_RoomList%250A%250AManages%2520the%2520list%2520of%2520encrypted%2520roomsmodule_.html">crypto/RoomList

Manages the list of encrypted rooms</a></li><li><a href="module-auto-discovery.html">auto-discovery</a></li><li><a href="module-base-apis.html">base-apis</a></li><li><a href="module-client.html">client</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-client.html#~_encryptEventIfNeeded">_encryptEventIfNeeded</a></li><li data-type='method' style='display: none;'><a href="module-client.html#~_getEncryptedIfNeededEventType">_getEncryptedIfNeededEventType</a></li><li data-type='method' style='display: none;'><a href="module-client.html#~_membershipChange">_membershipChange</a></li><li data-type='method' style='display: none;'><a href="module-client.html#~_setMembershipState">_setMembershipState</a></li><li data-type='method' style='display: none;'><a href="module-client.html#~wrapCryptoFuncs">wrapCryptoFuncs</a></li></ul></li><li><a href="module-content-repo.html">content-repo</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-content-repo.html#.getHttpUriForMxc">getHttpUriForMxc</a></li></ul></li><li><a href="module-ContentHelpers.html">ContentHelpers</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeEmoteMessage">makeEmoteMessage</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeHtmlEmote">makeHtmlEmote</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeHtmlMessage">makeHtmlMessage</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeHtmlNotice">makeHtmlNotice</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeNotice">makeNotice</a></li><li data-type='method' style='display: none;'><a href="module-ContentHelpers.html#.makeTextMessage">makeTextMessage</a></li></ul></li><li><a href="module-crypto.html">crypto</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto.html#.verificationMethods">verificationMethods</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto.html#.fixBackupKey">fixBackupKey</a></li></ul></li><li><a href="module-crypto_algorithms.html">crypto/algorithms</a></li><li><a href="module-crypto_algorithms_base.html">crypto/algorithms/base</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto_algorithms_base.html#.DECRYPTION_CLASSES">DECRYPTION_CLASSES</a></li><li data-type='member' style='display: none;'><a href="module-crypto_algorithms_base.html#.ENCRYPTION_CLASSES">ENCRYPTION_CLASSES</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_algorithms_base.html#.registerAlgorithm">registerAlgorithm</a></li></ul></li><li><a href="module-crypto_algorithms_megolm.html">crypto/algorithms/megolm</a></li><li><a href="module-crypto_algorithms_olm.html">crypto/algorithms/olm</a></li><li><a href="module-crypto_CrossSigning.html">crypto/CrossSigning</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-crypto_CrossSigning.html#.requestKeysDuringVerification">requestKeysDuringVerification</a></li></ul></li><li><a href="module-crypto_deviceinfo.html">crypto/deviceinfo</a></li><li><a href="module-crypto_OutgoingRoomKeyRequestManager.html">crypto/OutgoingRoomKeyRequestManager</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto_OutgoingRoomKeyRequestManager.html#.ROOM_KEY_REQUEST_STATES">ROOM_KEY_REQUEST_STATES</a></li></ul></li><li><a href="module-crypto_SecretStorage.html">crypto/SecretStorage</a></li><li><a href="module-crypto_store_base.html">crypto/store/base</a></li><li><a href="module-crypto_store_indexeddb-crypto-store.html">crypto/store/indexeddb-crypto-store</a></li><li><a href="module-crypto_store_localStorage-crypto-store.html">crypto/store/localStorage-crypto-store</a></li><li><a href="module-crypto_store_memory-crypto-store.html">crypto/store/memory-crypto-store</a></li><li><a href="module-crypto_verification_Base.html">crypto/verification/Base</a></li><li><a href="module-crypto_verification_Error.html">crypto/verification/Error</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newInvalidMessageError">newInvalidMessageError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newKeyMismatchError">newKeyMismatchError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newTimeoutError">newTimeoutError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUnexpectedMessageError">newUnexpectedMessageError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUnknownMethodError">newUnknownMethodError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUnknownTransactionError">newUnknownTransactionError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUserCancelledError">newUserCancelledError</a></li><li data-type='member' style='display: none;'><a href="module-crypto_verification_Error.html#.newUserMismatchError">newUserMismatchError</a></li></ul></li><li><a href="module-crypto_verification_IllegalMethod.html">crypto/verification/IllegalMethod</a></li><li><a href="module-crypto_verification_QRCode.html">crypto/verification/QRCode</a></li><li><a href="module-crypto_verification_SAS.html">crypto/verification/SAS</a></li><li><a href="module-filter.html">filter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-filter.html#~setProp">setProp</a></li></ul></li><li><a href="module-filter-component.html">filter-component</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-filter-component.html#~_matches_wildcard">_matches_wildcard</a></li></ul></li><li><a href="module-http-api.html">http-api</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_IDENTITY_V1">PREFIX_IDENTITY_V1</a></li><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_IDENTITY_V2">PREFIX_IDENTITY_V2</a></li><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_MEDIA_R0">PREFIX_MEDIA_R0</a></li><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_R0">PREFIX_R0</a></li><li data-type='member' style='display: none;'><a href="module-http-api.html#.PREFIX_UNSTABLE">PREFIX_UNSTABLE</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-http-api.html#.retryNetworkOperation">retryNetworkOperation</a></li><li data-type='method' style='display: none;'><a href="module-http-api.html#~getResponseContentType">getResponseContentType</a></li><li data-type='method' style='display: none;'><a href="module-http-api.html#~parseErrorResponse">parseErrorResponse</a></li></ul></li><li><a href="module-interactive-auth.html">interactive-auth</a></li><li><a href="module-logger.html">logger</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-logger.html#.logger">logger</a></li></ul></li><li><a href="module-models_event.html">models/event</a><ul class='members'><li data-type='member' style='display: none;'><a href="module-models_event.html#.EventStatus">EventStatus</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_event.html#~_setClearData">_setClearData</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~attemptDecryption">attemptDecryption</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~cancelAndResendKeyRequest">cancelAndResendKeyRequest</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~flagCancelled">flagCancelled</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getAge">getAge</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getAssociatedId">getAssociatedId</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getAssociatedStatus">getAssociatedStatus</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getClaimedEd25519Key">getClaimedEd25519Key</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getClearContent">getClearContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getContent">getContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getDate">getDate</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getDirectionalContent">getDirectionalContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getForwardingCurve25519KeyChain">getForwardingCurve25519KeyChain</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getId">getId</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getKeyRequestRecipients">getKeyRequestRecipients</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getKeysClaimed">getKeysClaimed</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getLocalAge">getLocalAge</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getOriginalContent">getOriginalContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getPrevContent">getPrevContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getPushActions">getPushActions</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getRelation">getRelation</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getRoomId">getRoomId</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getSender">getSender</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getSenderKey">getSenderKey</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getStateKey">getStateKey</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getTs">getTs</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getType">getType</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getWireContent">getWireContent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~getWireType">getWireType</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~handleRemoteEcho">handleRemoteEcho</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~hasAssocation">hasAssocation</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isBeingDecrypted">isBeingDecrypted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isCancelled">isCancelled</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isDecryptionFailure">isDecryptionFailure</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isEncrypted">isEncrypted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isKeySourceUntrusted">isKeySourceUntrusted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isRedacted">isRedacted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isRedaction">isRedaction</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isRelation">isRelation</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isSending">isSending</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~isState">isState</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~localRedactionEvent">localRedactionEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~makeEncrypted">makeEncrypted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~makeRedacted">makeRedacted</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~makeReplaced">makeReplaced</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~replacingEvent">replacingEvent</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~replacingEventDate">replacingEventDate</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~replacingEventId">replacingEventId</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~setPushActions">setPushActions</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~setStatus">setStatus</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~toJSON">toJSON</a></li><li data-type='method' style='display: none;'><a href="module-models_event.html#~updateAssociatedId">updateAssociatedId</a></li></ul></li><li><a href="module-models_event-context.html">models/event-context</a></li><li><a href="module-models_event-timeline.html">models/event-timeline</a></li><li><a href="module-models_event-timeline-set.html">models/event-timeline-set</a></li><li><a href="module-models_group.html">models/group</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_group.html#.Group">Group</a></li></ul></li><li><a href="module-models_room.html">models/room</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-models_room.html#~calculateRoomName">calculateRoomName</a></li></ul></li><li><a href="module-models_room-member.html">models/room-member</a></li><li><a href="module-models_room-state.html">models/room-state</a></li><li><a href="module-models_room-summary.html">models/room-summary</a></li><li><a href="module-models_search-result.html">models/search-result</a></li><li><a href="module-models_user.html">models/user</a></li><li><a href="module-pushprocessor.html">pushprocessor</a></li><li><a href="module-ReEmitter.html">ReEmitter</a></li><li><a href="module-scheduler.html">scheduler</a></li><li><a href="module-store_indexeddb.html">store/indexeddb</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-store_indexeddb.html#~degradable">degradable</a></li></ul></li><li><a href="module-store_memory.html">store/memory</a></li><li><a href="module-store_session_webstorage.html">store/session/webstorage</a></li><li><a href="module-store_stub.html">store/stub</a></li><li><a href="module-sync-accumulator.html">sync-accumulator</a></li><li><a href="module-timeline-window.html">timeline-window</a></li><li><a href="module-utils.html">utils</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-utils.html#.checkObjectHasKeys">checkObjectHasKeys</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.checkObjectHasNoAdditionalKeys">checkObjectHasNoAdditionalKeys</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.deepCompare">deepCompare</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.deepCopy">deepCopy</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.encodeParams">encodeParams</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.encodeUri">encodeUri</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.extend">extend</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.filter">filter</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.findElement">findElement</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.forEach">forEach</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.inherits">inherits</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.isArray">isArray</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.isFunction">isFunction</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.isNumber">isNumber</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.keys">keys</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.map">map</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.polyfillSuper">polyfillSuper</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.removeElement">removeElement</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.removeHiddenChars">removeHiddenChars</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.runPolyfills">runPolyfills</a></li><li data-type='method' style='display: none;'><a href="module-utils.html#.values">values</a></li></ul></li><li><a href="module-webrtc_call.html">webrtc/call</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#.createNewMatrixCall">createNewMatrixCall</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#.setAudioInput">setAudioInput</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#.setAudioOutput">setAudioOutput</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#.setVideoInput">setVideoInput</a></li><li data-type='method' style='display: none;'><a href="module-webrtc_call.html#~sendEvent">sendEvent</a></li></ul></li><li><a href="olmlib%250A%250AUtilities%2520common%2520to%2520olm%2520encryption%2520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithms</a><ul class='methods'><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.decodeBase64</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.encodeBase64</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.encodeUnpaddedBase64</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.encryptMessageForDevice</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.ensureOlmSessionsForDevices</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.getExistingOlmSessions</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.pkSign</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.pkVerify</a></li><li data-type='method' style='display: none;'><a href="olmlib%25250A%25250AUtilities%252520common%252520to%252520olm%252520encryption%252520algorithmsmodule_.html">olmlib

Utilities common to olm encryption algorithmsmodule:.verifySignature</a></li></ul></li></ul><h3>Externals</h3><ul><li><a href="external-EventEmitter.html">EventEmitter</a><ul class='methods'><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#addListener">addListener</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#emit">emit</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#on">on</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#once">once</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#removeAllListeners">removeAllListeners</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#removeListener">removeListener</a></li><li data-type='method' style='display: none;'><a href="external-EventEmitter.html#setMaxListeners">setMaxListeners</a></li></ul></li></ul><h3>Events</h3><ul><li><a href="global.html#event:%2522change%2522wheneverthestateoftherequestobjecthaschanged.">"change" whenever the state of the request object has changed.</a></li><li><a href="module-client.html#~event:MatrixClient%2522accountData%2522">MatrixClient"accountData"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Call.incoming%2522">MatrixClient"Call.incoming"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crossSigning.keysChanged%2522">MatrixClient"crossSigning.keysChanged"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.devicesUpdated%2522">MatrixClient"crypto.devicesUpdated"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.keyBackupStatus%2522">MatrixClient"crypto.keyBackupStatus"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.roomKeyRequest%2522">MatrixClient"crypto.roomKeyRequest"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.roomKeyRequestCancellation%2522">MatrixClient"crypto.roomKeyRequestCancellation"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.secrets.requestCancelled%2522">MatrixClient"crypto.secrets.requestCancelled"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.suggestKeyRestore%2522">MatrixClient"crypto.suggestKeyRestore"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.verification.request.unknown%2522">MatrixClient"crypto.verification.request.unknown"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.verification.request%2522">MatrixClient"crypto.verification.request"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.warning%2522">MatrixClient"crypto.warning"</a></li><li><a href="module-client.html#~event:MatrixClient%2522crypto.willUpdateDevices%2522">MatrixClient"crypto.willUpdateDevices"</a></li><li><a href="module-client.html#~event:MatrixClient%2522deleteRoom%2522">MatrixClient"deleteRoom"</a></li><li><a href="module-client.html#~event:MatrixClient%2522deviceVerificationChanged%2522">MatrixClient"deviceVerificationChanged"</a></li><li><a href="module-client.html#~event:MatrixClient%2522event%2522">MatrixClient"event"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Group.myMembership%2522">MatrixClient"Group.myMembership"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Group.profile%2522">MatrixClient"Group.profile"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Group%2522">MatrixClient"Group"</a></li><li><a href="module-client.html#~event:MatrixClient%2522no_consent%2522">MatrixClient"no_consent"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.accountData%2522">MatrixClient"Room.accountData"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.localEchoUpdated%2522">MatrixClient"Room.localEchoUpdated"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.name%2522">MatrixClient"Room.name"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.receipt%2522">MatrixClient"Room.receipt"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.redaction%2522">MatrixClient"Room.redaction"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.redactionCancelled%2522">MatrixClient"Room.redactionCancelled"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.tags%2522">MatrixClient"Room.tags"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.timeline%2522">MatrixClient"Room.timeline"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room.timelineReset%2522">MatrixClient"Room.timelineReset"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Room%2522">MatrixClient"Room"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomMember.membership%2522">MatrixClient"RoomMember.membership"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomMember.name%2522">MatrixClient"RoomMember.name"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomMember.powerLevel%2522">MatrixClient"RoomMember.powerLevel"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomMember.typing%2522">MatrixClient"RoomMember.typing"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomState.events%2522">MatrixClient"RoomState.events"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomState.members%2522">MatrixClient"RoomState.members"</a></li><li><a href="module-client.html#~event:MatrixClient%2522RoomState.newMember%2522">MatrixClient"RoomState.newMember"</a></li><li><a href="module-client.html#~event:MatrixClient%2522Session.logged_out%2522">MatrixClient"Session.logged_out"</a></li><li><a href="module-client.html#~event:MatrixClient%2522sync%2522">MatrixClient"sync"</a></li><li><a href="module-client.html#~event:MatrixClient%2522toDeviceEvent%2522">MatrixClient"toDeviceEvent"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.avatarUrl%2522">MatrixClient"User.avatarUrl"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.currentlyActive%2522">MatrixClient"User.currentlyActive"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.displayName%2522">MatrixClient"User.displayName"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.lastPresenceTs%2522">MatrixClient"User.lastPresenceTs"</a></li><li><a href="module-client.html#~event:MatrixClient%2522User.presence%2522">MatrixClient"User.presence"</a></li><li><a href="module-client.html#~event:MatrixClient%2522userTrustStatusChanged%2522">MatrixClient"userTrustStatusChanged"</a></li><li><a href="module-client.html#~event:MatrixClient%2522WellKnown.client%2522">MatrixClient"WellKnown.client"</a></li><li><a href="module-models_event.html#.event:MatrixEvent%2522Event.decrypted%2522">MatrixEvent"Event.decrypted"</a></li><li><a href="module-webrtc_call.html#~event:MatrixCall%2522error%2522">MatrixCall"error"</a></li></ul><h3>Interfaces</h3><ul><li><a href="module-crypto_store_base-CryptoStore.html">CryptoStore</a></li></ul><h3>Global</h3><ul><li><a href="global.html#_initialiseFromExportedDevice">_initialiseFromExportedDevice</a></li><li><a href="global.html#clearTimeout">clearTimeout</a></li><li><a href="global.html#createClient">createClient</a></li><li><a href="global.html#decryptBrowser">decryptBrowser</a></li><li><a href="global.html#decryptNode">decryptNode</a></li><li><a href="global.html#encryptBrowser">encryptBrowser</a></li><li><a href="global.html#encryptNode">encryptNode</a></li><li><a href="global.html#EventDecryptionResult">EventDecryptionResult</a></li><li><a href="global.html#exists">exists</a></li><li><a href="global.html#getRequest">getRequest</a></li><li><a href="global.html#InboundGroupSessionData">InboundGroupSessionData</a></li><li><a href="global.html#processFn">processFn</a></li><li><a href="global.html#PushAction">PushAction</a></li><li><a href="global.html#queueAlgorithm">queueAlgorithm</a></li><li><a href="global.html#request">request</a></li><li><a href="global.html#requestCallback">requestCallback</a></li><li><a href="global.html#requestFunction">requestFunction</a></li><li><a href="global.html#requestWrapperFunction">requestWrapperFunction</a></li><li><a href="global.html#retryAlgorithm">retryAlgorithm</a></li><li><a href="global.html#selectQuery">selectQuery</a></li><li><a href="global.html#setCryptoStoreFactory">setCryptoStoreFactory</a></li><li><a href="global.html#setNow">setNow</a></li><li><a href="global.html#setTimeout">setTimeout</a></li><li><a href="global.html#wrapRequest">wrapRequest</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">crypto/verification/request/VerificationRequest.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*
Copyright 2018 New Vector Ltd
Copyright 2019 The Matrix.org Foundation C.I.C.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

import {logger} from '../../../logger';
import {EventEmitter} from 'events';
import {
    errorFactory,
    errorFromEvent,
    newUnexpectedMessageError,
    newUnknownMethodError,
} from "../Error";
import {QRCodeData, SCAN_QR_CODE_METHOD} from "../QRCode";

// How long after the event's timestamp that the request times out
const TIMEOUT_FROM_EVENT_TS = 10 * 60 * 1000; // 10 minutes

// How long after we receive the event that the request times out
const TIMEOUT_FROM_EVENT_RECEIPT = 2 * 60 * 1000; // 2 minutes

// to avoid almost expired verification notifications
// from showing a notification and almost immediately
// disappearing, also ignore verification requests that
// are this amount of time away from expiring.
const VERIFICATION_REQUEST_MARGIN = 3 * 1000; // 3 seconds


export const EVENT_PREFIX = "m.key.verification.";
export const REQUEST_TYPE = EVENT_PREFIX + "request";
export const START_TYPE = EVENT_PREFIX + "start";
export const CANCEL_TYPE = EVENT_PREFIX + "cancel";
export const DONE_TYPE = EVENT_PREFIX + "done";
export const READY_TYPE = EVENT_PREFIX + "ready";

export const PHASE_UNSENT = 1;
export const PHASE_REQUESTED = 2;
export const PHASE_READY = 3;
export const PHASE_STARTED = 4;
export const PHASE_CANCELLED = 5;
export const PHASE_DONE = 6;


/**
 * State machine for verification requests.
 * Things that differ based on what channel is used to
 * send and receive verification events are put in `InRoomChannel` or `ToDeviceChannel`.
 * @event "change" whenever the state of the request object has changed.
 */
export class VerificationRequest extends EventEmitter {
    constructor(channel, verificationMethods, client) {
        super();
        this.channel = channel;
        this.channel._request = this;
        this._verificationMethods = verificationMethods;
        this._client = client;
        this._commonMethods = [];
        this._setPhase(PHASE_UNSENT, false);
        this._eventsByUs = new Map();
        this._eventsByThem = new Map();
        this._observeOnly = false;
        this._timeoutTimer = null;
        this._accepting = false;
        this._declining = false;
        this._verifierHasFinished = false;
        this._cancelled = false;
        this._chosenMethod = null;
        // we keep a copy of the QR Code data (including other user master key) around
        // for QR reciprocate verification, to protect against
        // cross-signing identity reset between the .ready and .start event
        // and signing the wrong key after .start
        this._qrCodeData = null;

        // The timestamp when we received the request event from the other side
        this._requestReceivedAt = null;
    }

    /**
     * Stateless validation logic not specific to the channel.
     * Invoked by the same static method in either channel.
     * @param {string} type the "symbolic" event type, as returned by the `getEventType` function on the channel.
     * @param {MatrixEvent} event the event to validate. Don't call getType() on it but use the `type` parameter instead.
     * @param {MatrixClient} client the client to get the current user and device id from
     * @returns {bool} whether the event is valid and should be passed to handleEvent
     */
    static validateEvent(type, event, client) {
        const content = event.getContent();


        if (!type || !type.startsWith(EVENT_PREFIX)) {
            return false;
        }

        // from here on we're fairly sure that this is supposed to be
        // part of a verification request, so be noisy when rejecting something
        if (!content) {
            logger.log("VerificationRequest: validateEvent: no content");
            return false;
        }

        if (type === REQUEST_TYPE || type === READY_TYPE) {
            if (!Array.isArray(content.methods)) {
                logger.log("VerificationRequest: validateEvent: " +
                    "fail because methods");
                return false;
            }
        }

        if (type === REQUEST_TYPE || type === READY_TYPE || type === START_TYPE) {
            if (typeof content.from_device !== "string" ||
                content.from_device.length === 0
            ) {
                logger.log("VerificationRequest: validateEvent: "+
                    "fail because from_device");
                return false;
            }
        }

        return true;
    }

    get invalid() {
        return this.phase === PHASE_UNSENT;
    }

    /** returns whether the phase is PHASE_REQUESTED */
    get requested() {
        return this.phase === PHASE_REQUESTED;
    }

    /** returns whether the phase is PHASE_CANCELLED */
    get cancelled() {
        return this.phase === PHASE_CANCELLED;
    }

    /** returns whether the phase is PHASE_READY */
    get ready() {
        return this.phase === PHASE_READY;
    }

    /** returns whether the phase is PHASE_STARTED */
    get started() {
        return this.phase === PHASE_STARTED;
    }

    /** returns whether the phase is PHASE_DONE */
    get done() {
        return this.phase === PHASE_DONE;
    }

    /** once the phase is PHASE_STARTED (and !initiatedByMe) or PHASE_READY: common methods supported by both sides */
    get methods() {
        return this._commonMethods;
    }

    /** the method picked in the .start event */
    get chosenMethod() {
        return this._chosenMethod;
    }

    calculateEventTimeout(event) {
        let effectiveExpiresAt = this.channel.getTimestamp(event)
            + TIMEOUT_FROM_EVENT_TS;

        if (this._requestReceivedAt &amp;&amp; !this.initiatedByMe &amp;&amp;
            this.phase &lt;= PHASE_REQUESTED
        ) {
            const expiresAtByReceipt = this._requestReceivedAt
                + TIMEOUT_FROM_EVENT_RECEIPT;
            effectiveExpiresAt = Math.min(effectiveExpiresAt, expiresAtByReceipt);
        }

        return Math.max(0, effectiveExpiresAt - Date.now());
    }

    /** The current remaining amount of ms before the request should be automatically cancelled */
    get timeout() {
        const requestEvent = this._getEventByEither(REQUEST_TYPE);
        if (requestEvent) {
            return this.calculateEventTimeout(requestEvent);
        }
        return 0;
    }

    /**
     * The key verification request event.
     * @returns {MatrixEvent} The request event, or falsey if not found.
     */
    get requestEvent() {
        return this._getEventByEither(REQUEST_TYPE);
    }

    /** current phase of the request. Some properties might only be defined in a current phase. */
    get phase() {
        return this._phase;
    }

    /** The verifier to do the actual verification, once the method has been established. Only defined when the `phase` is PHASE_STARTED. */
    get verifier() {
        return this._verifier;
    }

    get canAccept() {
        return this.phase &lt; PHASE_READY &amp;&amp; !this._accepting &amp;&amp; !this._declining;
    }

    get accepting() {
        return this._accepting;
    }

    get declining() {
        return this._declining;
    }

    /** whether this request has sent it's initial event and needs more events to complete */
    get pending() {
        return !this.observeOnly &amp;&amp;
            this._phase !== PHASE_DONE &amp;&amp;
            this._phase !== PHASE_CANCELLED;
    }

    /** Only set after a .ready if the other party can scan a QR code */
    get qrCodeData() {
        return this._qrCodeData;
    }

    /** Checks whether the other party supports a given verification method.
     *  This is useful when setting up the QR code UI, as it is somewhat asymmetrical:
     *  if the other party supports SCAN_QR, we should show a QR code in the UI, and vice versa.
     *  For methods that need to be supported by both ends, use the `methods` property.
     *  @param {string} method the method to check
     *  @param {boolean} force to check even if the phase is not ready or started yet, internal usage
     *  @return {bool} whether or not the other party said the supported the method */
    otherPartySupportsMethod(method, force = false) {
        if (!force &amp;&amp; !this.ready &amp;&amp; !this.started) {
            return false;
        }
        const theirMethodEvent = this._eventsByThem.get(REQUEST_TYPE) ||
            this._eventsByThem.get(READY_TYPE);
        if (!theirMethodEvent) {
            // if we started straight away with .start event,
            // we are assuming that the other side will support the
            // chosen method, so return true for that.
            if (this.started &amp;&amp; this.initiatedByMe) {
                const myStartEvent = this._eventsByUs.get(START_TYPE);
                const content = myStartEvent &amp;&amp; myStartEvent.getContent();
                const myStartMethod = content &amp;&amp; content.method;
                return method == myStartMethod;
            }
            return false;
        }
        const content = theirMethodEvent.getContent();
        if (!content) {
            return false;
        }
        const {methods} = content;
        if (!Array.isArray(methods)) {
            return false;
        }

        return methods.includes(method);
    }

    /** Whether this request was initiated by the syncing user.
     * For InRoomChannel, this is who sent the .request event.
     * For ToDeviceChannel, this is who sent the .start event
     */
    get initiatedByMe() {
        // event created by us but no remote echo has been received yet
        const noEventsYet = (this._eventsByUs.size + this._eventsByThem.size) === 0;
        if (this._phase === PHASE_UNSENT &amp;&amp; noEventsYet) {
            return true;
        }
        const hasMyRequest = this._eventsByUs.has(REQUEST_TYPE);
        const hasTheirRequest = this._eventsByThem.has(REQUEST_TYPE);
        if (hasMyRequest &amp;&amp; !hasTheirRequest) {
            return true;
        }
        if (!hasMyRequest &amp;&amp; hasTheirRequest) {
            return false;
        }
        const hasMyStart = this._eventsByUs.has(START_TYPE);
        const hasTheirStart = this._eventsByThem.has(START_TYPE);
        if (hasMyStart &amp;&amp; !hasTheirStart) {
            return true;
        }
        return false;
    }

    /** The id of the user that initiated the request */
    get requestingUserId() {
        if (this.initiatedByMe) {
            return this._client.getUserId();
        } else {
            return this.otherUserId;
        }
    }

    /** The id of the user that (will) receive(d) the request */
    get receivingUserId() {
        if (this.initiatedByMe) {
            return this.otherUserId;
        } else {
            return this._client.getUserId();
        }
    }

    /** The user id of the other party in this request */
    get otherUserId() {
        return this.channel.userId;
    }

    get isSelfVerification() {
        return this._client.getUserId() === this.otherUserId;
    }

    /**
     * The id of the user that cancelled the request,
     * only defined when phase is PHASE_CANCELLED
     */
    get cancellingUserId() {
        const myCancel = this._eventsByUs.get(CANCEL_TYPE);
        const theirCancel = this._eventsByThem.get(CANCEL_TYPE);

        if (myCancel &amp;&amp; (!theirCancel || myCancel.getId() &lt; theirCancel.getId())) {
            return myCancel.getSender();
        }
        if (theirCancel) {
            return theirCancel.getSender();
        }
        return undefined;
    }

    /**
     * The cancellation code e.g m.user which is responsible for cancelling this verification
     */
    get cancellationCode() {
        const ev = this._getEventByEither(CANCEL_TYPE);
        return ev ? ev.getContent().code : null;
    }

    get observeOnly() {
        return this._observeOnly;
    }


    /**
     * Gets which device the verification should be started with
     * given the events sent so far in the verification. This is the
     * same algorithm used to determine which device to send the
     * verification to when no specific device is specified.
     * @returns {{userId: *, deviceId: *}} The device information
     */
    get targetDevice() {
        const theirFirstEvent =
            this._eventsByThem.get(REQUEST_TYPE) ||
            this._eventsByThem.get(READY_TYPE) ||
            this._eventsByThem.get(START_TYPE);
        const theirFirstContent = theirFirstEvent.getContent();
        const fromDevice = theirFirstContent.from_device;
        return {
            userId: this.otherUserId,
            deviceId: fromDevice,
        };
    }

    /* Start the key verification, creating a verifier and sending a .start event.
     * If no previous events have been sent, pass in `targetDevice` to set who to direct this request to.
     * @param {string} method the name of the verification method to use.
     * @param {string?} targetDevice.userId the id of the user to direct this request to
     * @param {string?} targetDevice.deviceId the id of the device to direct this request to
     * @returns {VerifierBase} the verifier of the given method
     */
    beginKeyVerification(method, targetDevice = null) {
        // need to allow also when unsent in case of to_device
        if (!this.observeOnly &amp;&amp; !this._verifier) {
            const validStartPhase =
                this.phase === PHASE_REQUESTED ||
                this.phase === PHASE_READY ||
                (this.phase === PHASE_UNSENT &amp;&amp;
                    this.channel.constructor.canCreateRequest(START_TYPE));
            if (validStartPhase) {
                // when called on a request that was initiated with .request event
                // check the method is supported by both sides
                if (this._commonMethods.length &amp;&amp; !this._commonMethods.includes(method)) {
                    throw newUnknownMethodError();
                }
                this._verifier = this._createVerifier(method, null, targetDevice);
                if (!this._verifier) {
                    throw newUnknownMethodError();
                }
                this._chosenMethod = method;
            }
        }
        return this._verifier;
    }

    /**
     * sends the initial .request event.
     * @returns {Promise} resolves when the event has been sent.
     */
    async sendRequest() {
        if (!this.observeOnly &amp;&amp; this._phase === PHASE_UNSENT) {
            const methods = [...this._verificationMethods.keys()];
            await this.channel.send(REQUEST_TYPE, {methods});
        }
    }

    /**
     * Cancels the request, sending a cancellation to the other party
     * @param {string?} error.reason the error reason to send the cancellation with
     * @param {string?} error.code the error code to send the cancellation with
     * @returns {Promise} resolves when the event has been sent.
     */
    async cancel({reason = "User declined", code = "m.user"} = {}) {
        if (!this.observeOnly &amp;&amp; this._phase !== PHASE_CANCELLED) {
            this._declining = true;
            this.emit("change");
            if (this._verifier) {
                return this._verifier.cancel(errorFactory(code, reason)());
            } else {
                this._cancellingUserId = this._client.getUserId();
                await this.channel.send(CANCEL_TYPE, {code, reason});
            }
        }
    }

    /**
     * Accepts the request, sending a .ready event to the other party
     * @returns {Promise} resolves when the event has been sent.
     */
    async accept() {
        if (!this.observeOnly &amp;&amp; this.phase === PHASE_REQUESTED &amp;&amp; !this.initiatedByMe) {
            const methods = [...this._verificationMethods.keys()];
            this._accepting = true;
            this.emit("change");
            await this.channel.send(READY_TYPE, {methods});
        }
    }

    /**
     * Can be used to listen for state changes until the callback returns true.
     * @param {Function} fn callback to evaluate whether the request is in the desired state.
     *                      Takes the request as an argument.
     * @returns {Promise} that resolves once the callback returns true
     * @throws {Error} when the request is cancelled
     */
    waitFor(fn) {
        return new Promise((resolve, reject) => {
            const check = () => {
                let handled = false;
                if (fn(this)) {
                    resolve(this);
                    handled = true;
                } else if (this.cancelled) {
                    reject(new Error("cancelled"));
                    handled = true;
                }
                if (handled) {
                    this.off("change", check);
                }
                return handled;
            };
            if (!check()) {
                this.on("change", check);
            }
        });
    }

    _setPhase(phase, notify = true) {
        this._phase = phase;
        if (notify) {
            this.emit("change");
        }
    }

    _getEventByEither(type) {
        return this._eventsByThem.get(type) || this._eventsByUs.get(type);
    }

    _getEventBy(type, byThem) {
        if (byThem) {
            return this._eventsByThem.get(type);
        } else {
            return this._eventsByUs.get(type);
        }
    }

    _calculatePhaseTransitions() {
        const transitions = [{phase: PHASE_UNSENT}];
        const phase = () => transitions[transitions.length - 1].phase;

        // always pass by .request first to be sure channel.userId has been set
        const hasRequestByThem = this._eventsByThem.has(REQUEST_TYPE);
        const requestEvent = this._getEventBy(REQUEST_TYPE, hasRequestByThem);
        if (requestEvent) {
            transitions.push({phase: PHASE_REQUESTED, event: requestEvent});
        }

        const readyEvent =
            requestEvent &amp;&amp; this._getEventBy(READY_TYPE, !hasRequestByThem);
        if (readyEvent &amp;&amp; phase() === PHASE_REQUESTED) {
            transitions.push({phase: PHASE_READY, event: readyEvent});
        }

        let startEvent;
        if (readyEvent || !requestEvent) {
            const theirStartEvent = this._eventsByThem.get(START_TYPE);
            const ourStartEvent = this._eventsByUs.get(START_TYPE);
            // any party can send .start after a .ready or unsent
            if (theirStartEvent &amp;&amp; ourStartEvent) {
                startEvent = theirStartEvent.getSender() &lt; ourStartEvent.getSender() ?
                    theirStartEvent : ourStartEvent;
            } else {
                startEvent = theirStartEvent ? theirStartEvent : ourStartEvent;
            }
        } else {
            startEvent = this._getEventBy(START_TYPE, !hasRequestByThem);
        }
        if (startEvent) {
            const fromRequestPhase = phase() === PHASE_REQUESTED &amp;&amp;
                requestEvent.getSender() !== startEvent.getSender();
            const fromUnsentPhase = phase() === PHASE_UNSENT &amp;&amp;
                this.channel.constructor.canCreateRequest(START_TYPE);
            if (fromRequestPhase || phase() === PHASE_READY || fromUnsentPhase) {
                transitions.push({phase: PHASE_STARTED, event: startEvent});
            }
        }

        const ourDoneEvent = this._eventsByUs.get(DONE_TYPE);
        if (this._verifierHasFinished || (ourDoneEvent &amp;&amp; phase() === PHASE_STARTED)) {
            transitions.push({phase: PHASE_DONE});
        }

        const cancelEvent = this._getEventByEither(CANCEL_TYPE);
        if ((this._cancelled || cancelEvent) &amp;&amp; phase() !== PHASE_DONE) {
            transitions.push({phase: PHASE_CANCELLED, event: cancelEvent});
            return transitions;
        }

        return transitions;
    }

    _transitionToPhase(transition) {
        const {phase, event} = transition;
        // get common methods
        if (phase === PHASE_REQUESTED || phase === PHASE_READY) {
            if (!this._wasSentByOwnDevice(event)) {
                const content = event.getContent();
                this._commonMethods =
                    content.methods.filter(m => this._verificationMethods.has(m));
            }
        }
        // detect if we're not a party in the request, and we should just observe
        if (!this.observeOnly) {
            // if requested or accepted by one of my other devices
            if (phase === PHASE_REQUESTED ||
                phase === PHASE_STARTED ||
                phase === PHASE_READY
            ) {
                if (
                    this.channel.receiveStartFromOtherDevices &amp;&amp;
                    this._wasSentByOwnUser(event) &amp;&amp;
                    !this._wasSentByOwnDevice(event)
                ) {
                    this._observeOnly = true;
                }
            }
        }
        // create verifier
        if (phase === PHASE_STARTED) {
            const {method} = event.getContent();
            if (!this._verifier &amp;&amp; !this.observeOnly) {
                this._verifier = this._createVerifier(method, event);
                if (!this._verifier) {
                    this.cancel({
                        code: "m.unknown_method",
                        reason: `Unknown method: ${method}`,
                    });
                } else {
                    this._chosenMethod = method;
                }
            }
        }
    }

    _applyPhaseTransitions() {
        const transitions = this._calculatePhaseTransitions();
        const existingIdx = transitions.findIndex(t => t.phase === this.phase);
        // trim off phases we already went through, if any
        const newTransitions = transitions.slice(existingIdx + 1);
        // transition to all new phases
        for (const transition of newTransitions) {
            this._transitionToPhase(transition);
        }
        return newTransitions;
    }

    _isWinningStartRace(newEvent) {
        if (newEvent.getType() !== START_TYPE) {
            return false;
        }
        const oldEvent = this._verifier.startEvent;

        let oldRaceIdentifier;
        if (this.isSelfVerification) {
            // if the verifier does not have a startEvent,
            // it is because it's still sending and we are on the initator side
            // we know we are sending a .start event because we already
            // have a verifier (checked in calling method)
            if (oldEvent) {
                const oldContent = oldEvent.getContent();
                oldRaceIdentifier = oldContent &amp;&amp; oldContent.from_device;
            } else {
                oldRaceIdentifier = this._client.getDeviceId();
            }
        } else {
            if (oldEvent) {
                oldRaceIdentifier = oldEvent.getSender();
            } else {
                oldRaceIdentifier = this._client.getUserId();
            }
        }

        let newRaceIdentifier;
        if (this.isSelfVerification) {
            const newContent = newEvent.getContent();
            newRaceIdentifier = newContent &amp;&amp; newContent.from_device;
        } else {
            newRaceIdentifier = newEvent.getSender();
        }
        return newRaceIdentifier &lt; oldRaceIdentifier;
    }

    hasEventId(eventId) {
        for (const event of this._eventsByUs.values()) {
            if (event.getId() === eventId) {
                return true;
            }
        }
        for (const event of this._eventsByThem.values()) {
            if (event.getId() === eventId) {
                return true;
            }
        }
        return false;
    }

    /**
     * Changes the state of the request and verifier in response to a key verification event.
     * @param {string} type the "symbolic" event type, as returned by the `getEventType` function on the channel.
     * @param {MatrixEvent} event the event to handle. Don't call getType() on it but use the `type` parameter instead.
     * @param {bool} isLiveEvent whether this is an even received through sync or not
     * @param {bool} isRemoteEcho whether this is the remote echo of an event sent by the same device
     * @param {bool} isSentByUs whether this event is sent by a party that can accept and/or observe the request like one of our peers.
     *   For InRoomChannel this means any device for the syncing user. For ToDeviceChannel, just the syncing device.
     * @returns {Promise} a promise that resolves when any requests as an anwser to the passed-in event are sent.
     */
    async handleEvent(type, event, isLiveEvent, isRemoteEcho, isSentByUs) {
        // if reached phase cancelled or done, ignore anything else that comes
        if (this.done || this.cancelled) {
            return;
        }
        const wasObserveOnly = this._observeOnly;

        this._adjustObserveOnly(event, isLiveEvent);

        if (!this.observeOnly &amp;&amp; !isRemoteEcho) {
            if (await this._cancelOnError(type, event)) {
                return;
            }
        }

        // This assumes verification won't need to send an event with
        // the same type for the same party twice.
        // This is true for QR and SAS verification, and was
        // added here to prevent verification getting cancelled
        // when the server duplicates an event (https://github.com/matrix-org/synapse/issues/3365)
        const isDuplicateEvent = isSentByUs ?
            this._eventsByUs.has(type) :
            this._eventsByThem.has(type);
        if (isDuplicateEvent) {
            return;
        }

        const oldPhase = this.phase;
        this._addEvent(type, event, isSentByUs);

        // this will create if needed the verifier so needs to happen before calling it
        const newTransitions = this._applyPhaseTransitions();
        try {
            // only pass events from the other side to the verifier,
            // no remote echos of our own events
            if (this._verifier &amp;&amp; !this.observeOnly) {
                const newEventWinsRace = this._isWinningStartRace(event);
                if (this._verifier.canSwitchStartEvent(event) &amp;&amp; newEventWinsRace) {
                    this._verifier.switchStartEvent(event);
                } else if (!isRemoteEcho) {
                    if (type === CANCEL_TYPE || (this._verifier.events
                        &amp;&amp; this._verifier.events.includes(type))) {
                        this._verifier.handleEvent(event);
                    }
                }
            }

            if (newTransitions.length) {
                // create QRCodeData if the other side can scan
                // important this happens before emitting a phase change,
                // so listeners can rely on it being there already
                // We only do this for live events because it is important that
                // we sign the keys that were in the QR code, and not the keys
                // we happen to have at some later point in time.
                if (isLiveEvent &amp;&amp; newTransitions.some(t => t.phase === PHASE_READY)) {
                    const shouldGenerateQrCode =
                        this.otherPartySupportsMethod(SCAN_QR_CODE_METHOD, true);
                    if (shouldGenerateQrCode) {
                        this._qrCodeData = await QRCodeData.create(this, this._client);
                    }
                }

                const lastTransition = newTransitions[newTransitions.length - 1];
                const {phase} = lastTransition;

                this._setupTimeout(phase);
                // set phase as last thing as this emits the "change" event
                this._setPhase(phase);
            } else if (this._observeOnly !== wasObserveOnly) {
                this.emit("change");
            }
        } finally {
            // log events we processed so we can see from rageshakes what events were added to a request
            logger.log(`Verification request ${this.channel.transactionId}: ` +
                `${type} event with id:${event.getId()}, ` +
                `content:${JSON.stringify(event.getContent())} ` +
                `deviceId:${this.channel.deviceId}, ` +
                `sender:${event.getSender()}, isSentByUs:${isSentByUs}, ` +
                `isLiveEvent:${isLiveEvent}, isRemoteEcho:${isRemoteEcho}, ` +
                `phase:${oldPhase}=>${this.phase}, ` +
                `observeOnly:${wasObserveOnly}=>${this._observeOnly}`);
        }
    }

    _setupTimeout(phase) {
        const shouldTimeout = !this._timeoutTimer &amp;&amp; !this.observeOnly &amp;&amp;
            phase === PHASE_REQUESTED;

        if (shouldTimeout) {
            this._timeoutTimer = setTimeout(this._cancelOnTimeout, this.timeout);
        }
        if (this._timeoutTimer) {
            const shouldClear = phase === PHASE_STARTED ||
                phase === PHASE_READY ||
                phase === PHASE_DONE ||
                phase === PHASE_CANCELLED;
            if (shouldClear) {
                clearTimeout(this._timeoutTimer);
                this._timeoutTimer = null;
            }
        }
    }

    _cancelOnTimeout = () => {
        try {
            if (this.initiatedByMe) {
                this.cancel({
                    reason: "Other party didn't accept in time",
                    code: "m.timeout",
                });
            } else {
                this.cancel({
                    reason: "User didn't accept in time",
                    code: "m.timeout",
                });
            }
        } catch (err) {
            logger.error("Error while cancelling verification request", err);
        }
    };

    async _cancelOnError(type, event) {
        if (type === START_TYPE) {
            const method = event.getContent().method;
            if (!this._verificationMethods.has(method)) {
                await this.cancel(errorFromEvent(newUnknownMethodError()));
                return true;
            }
        }

        const isUnexpectedRequest = type === REQUEST_TYPE &amp;&amp; this.phase !== PHASE_UNSENT;
        const isUnexpectedReady = type === READY_TYPE &amp;&amp; this.phase !== PHASE_REQUESTED;
        // only if phase has passed from PHASE_UNSENT should we cancel, because events
        // are allowed to come in in any order (at least with InRoomChannel). So we only know
        // we're dealing with a valid request we should participate in once we've moved to PHASE_REQUESTED
        // before that, we could be looking at somebody elses verification request and we just
        // happen to be in the room
        if (this.phase !== PHASE_UNSENT &amp;&amp; (isUnexpectedRequest || isUnexpectedReady)) {
            logger.warn(`Cancelling, unexpected ${type} verification ` +
                `event from ${event.getSender()}`);
            const reason = `Unexpected ${type} event in phase ${this.phase}`;
            await this.cancel(errorFromEvent(newUnexpectedMessageError({reason})));
            return true;
        }
        return false;
    }

    _adjustObserveOnly(event, isLiveEvent) {
        // don't send out events for historical requests
        if (!isLiveEvent) {
            this._observeOnly = true;
        }
        if (this.calculateEventTimeout(event) &lt; VERIFICATION_REQUEST_MARGIN) {
            this._observeOnly = true;
        }
    }

    _addEvent(type, event, isSentByUs) {
        if (isSentByUs) {
            this._eventsByUs.set(type, event);
        } else {
            this._eventsByThem.set(type, event);
        }

        // once we know the userId of the other party (from the .request event)
        // see if any event by anyone else crept into this._eventsByThem
        if (type === REQUEST_TYPE) {
            for (const [type, event] of this._eventsByThem.entries()) {
                if (event.getSender() !== this.otherUserId) {
                    this._eventsByThem.delete(type);
                }
            }
            // also remember when we received the request event
            this._requestReceivedAt = Date.now();
        }
    }

    _createVerifier(method, startEvent = null, targetDevice = null) {
        if (!targetDevice) {
            targetDevice = this.targetDevice;
        }
        const {userId, deviceId} = targetDevice;

        const VerifierCtor = this._verificationMethods.get(method);
        if (!VerifierCtor) {
            logger.warn("could not find verifier constructor for method", method);
            return;
        }
        return new VerifierCtor(
            this.channel,
            this._client,
            userId,
            deviceId,
            startEvent,
            this,
        );
    }

    _wasSentByOwnUser(event) {
        return event.getSender() === this._client.getUserId();
    }

    // only for .request, .ready or .start
    _wasSentByOwnDevice(event) {
        if (!this._wasSentByOwnUser(event)) {
            return false;
        }
        const content = event.getContent();
        if (!content || content.from_device !== this._client.getDeviceId()) {
            return false;
        }
        return true;
    }

    onVerifierCancelled() {
        this._cancelled = true;
        // move to cancelled phase
        const newTransitions = this._applyPhaseTransitions();
        if (newTransitions.length) {
            this._setPhase(newTransitions[newTransitions.length - 1].phase);
        }
    }

    onVerifierFinished() {
        this.channel.send("m.key.verification.done", {});
        this._verifierHasFinished = true;
        // move to .done phase
        const newTransitions = this._applyPhaseTransitions();
        if (newTransitions.length) {
            this._setPhase(newTransitions[newTransitions.length - 1].phase);
        }
    }

    getEventFromOtherParty(type) {
        return this._eventsByThem.get(type);
    }
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Wed Oct 07 2020 14:21:45 GMT+0100 (British Summer Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
